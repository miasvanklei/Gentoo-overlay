--- a/src/gallium/auxiliary/util/u_math.h	2017-11-12 10:09:35.009468868 +0100
+++ b/src/gallium/auxiliary/util/u_math.h	2017-11-12 10:10:02.911413920 +0100
@@ -559,7 +559,7 @@
  */
 static inline unsigned util_last_bit_signed(int i)
 {
-#if defined(__GNUC__) && ((__GNUC__ * 100 + __GNUC_MINOR__) >= 407)
+#if defined(__GNUC__) && ((__GNUC__ * 100 + __GNUC_MINOR__) >= 407) && !defined(__clang__)
    return 31 - __builtin_clrsb(i);
 #else
    if (i >= 0)
