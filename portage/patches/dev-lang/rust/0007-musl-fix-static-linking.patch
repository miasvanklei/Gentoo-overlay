--- a/src/librustc_codegen_ssa/back/link.rs
+++ b/src/librustc_codegen_ssa/back/link.rs
@@ -1259,7 +1259,11 @@
             None => continue,
         };
         match lib.kind {
-            NativeLibraryKind::NativeUnknown => cmd.link_dylib(name),
+            NativeLibraryKind::NativeUnknown => if sess.crt_static() {
+                                                    cmd.link_staticlib(name)
+                                                } else {
+                                                    cmd.link_dylib(name)
+                                                },
             NativeLibraryKind::NativeFramework => cmd.link_framework(name),
             NativeLibraryKind::NativeStaticNobundle => cmd.link_staticlib(name),
             NativeLibraryKind::NativeStatic => cmd.link_whole_staticlib(name,
@@ -1633,7 +1637,11 @@
                 continue
             }
             match lib.kind {
-                NativeLibraryKind::NativeUnknown => cmd.link_dylib(name),
+                NativeLibraryKind::NativeUnknown => if sess.crt_static() {
+                                                        cmd.link_staticlib(name)
+                                                    } else {
+                                                        cmd.link_dylib(name)
+                                                    },
                 NativeLibraryKind::NativeFramework => cmd.link_framework(name),
                 NativeLibraryKind::NativeStaticNobundle => {
                     // Link "static-nobundle" native libs only if the crate they originate from
