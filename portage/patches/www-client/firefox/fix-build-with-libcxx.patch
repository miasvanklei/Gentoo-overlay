--- a/memory/mozalloc/throw_gcc.h
+++ b/memory/mozalloc/throw_gcc.h
@@ -74,50 +74,66 @@ __throw_bad_function_call(void) {
   mozalloc_abort("fatal: STL threw bad_function_call");
 }
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_logic_error(
     const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_domain_error(
     const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void
 __throw_invalid_argument(const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_length_error(
     const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_out_of_range(
     const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_runtime_error(
     const char* msg) {
   mozalloc_abort(msg);
 }
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_range_error(
     const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void
 __throw_overflow_error(const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
+#if !defined(_LIBCPP_VERSION)
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void
 __throw_underflow_error(const char* msg) {
   mozalloc_abort(msg);
 }
+#endif  // _LIBCPP_VERSION
 
 MOZ_THROW_NORETURN MOZ_THROW_EXPORT MOZ_THROW_INLINE void __throw_ios_failure(
     const char* msg) {
--- a/config/system-headers.mozbuild	2022-03-23 16:22:09.735828905 +0100
+++ b/config/system-headers.mozbuild	2022-03-23 16:22:43.550424271 +0100
@@ -268,7 +268,6 @@
     'freetype/tttables.h',
     'fribidi/fribidi.h',
     'FSp_fopen.h',
-    'fstream',
     'fstream.h',
     'ft2build.h',
     'ftadvanc.h',
