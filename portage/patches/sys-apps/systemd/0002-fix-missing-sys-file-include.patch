--- a/src/core/namespace.c 2022-05-21 15:23:41.000000000 +0200
+++ b/src/core/namespace.c   2022-05-22 20:45:04.335500298 +0200
@@ -4,6 +4,7 @@
 #include <linux/loop.h>
 #include <sched.h>
 #include <stdio.h>
+#include <sys/file.h>
 #include <sys/mount.h>
 #include <unistd.h>
 #include <linux/fs.h>
--- a/src/dissect/dissect.c        2022-05-21 15:23:41.000000000 +0200
+++ b/src/dissect/dissect.c  2022-05-22 20:45:04.340500360 +0200
@@ -4,6 +4,7 @@
 #include <getopt.h>
 #include <linux/loop.h>
 #include <stdio.h>
+#include <sys/file.h>
 #include <sys/ioctl.h>
 #include <sys/mount.h>
 
--- a/src/portable/portable.c      2022-05-21 15:23:41.000000000 +0200
+++ b/src/portable/portable.c        2022-05-22 20:45:04.363500648 +0200
@@ -1,5 +1,6 @@
 /* SPDX-License-Identifier: LGPL-2.1-or-later */
 
+#include <sys/file.h>
 #include <linux/loop.h>
 
 #include "bus-common-errors.h"
--- a/src/shared/dissect-image.c   2022-05-21 15:23:41.000000000 +0200
+++ b/src/shared/dissect-image.c     2022-05-22 20:45:04.368500711 +0200
@@ -7,6 +7,7 @@
 #include <linux/blkpg.h>
 #include <linux/dm-ioctl.h>
 #include <linux/loop.h>
+#include <sys/file.h>
 #include <sys/mount.h>
 #include <sys/prctl.h>
 #include <sys/wait.h>
--- a/src/sysext/sysext.c  2022-05-21 15:23:41.000000000 +0200
+++ b/src/sysext/sysext.c    2022-05-22 20:45:04.471501999 +0200
@@ -3,6 +3,7 @@
 #include <fcntl.h>
 #include <getopt.h>
 #include <linux/loop.h>
+#include <sys/file.h>
 #include <sys/mount.h>
 #include <unistd.h>
 
--- a/src/test/test-loop-block.c   2022-05-21 15:23:41.000000000 +0200
+++ b/src/test/test-loop-block.c     2022-05-22 20:45:04.356500561 +0200
@@ -1,6 +1,7 @@
 /* SPDX-License-Identifier: LGPL-2.1-or-later */
 
 #include <fcntl.h>
+#include <sys/file.h>
 #include <linux/loop.h>
 #include <pthread.h>
 
