--- a/src/basic/missing.h
+++ b/src/basic/missing.h
@@ -8,6 +8,7 @@
 #include "missing_capability.h"
 #include "missing_drm.h"
 #include "missing_fcntl.h"
+#include "missing_fftw.h"
 #include "missing_fs.h"
 #include "missing_input.h"
 #include "missing_magic.h"
--- /dev/null
+++ b/src/basic/missing_fftw.h
@@ -0,0 +1,21 @@
+#pragma once
+
+#ifndef FTW_ACTIONRETVAL
+#define FTW_ACTIONRETVAL 16
+#endif
+
+#ifndef FTW_CONTINUE
+#define FTW_CONTINUE 0
+#endif
+
+#ifndef FTW_STOP
+#define FTW_STOP 1
+#endif
+
+#ifndef FTW_SKIP_SUBTREE
+#define FTW_SKIP_SUBTREE 2
+#endif
+
+#ifndef FTW_SKIP_SIBLINGS
+#define FTW_SKIP_SIBLINGS 3
+#endif
--- a/src/basic/locale-util.c
+++ b/src/basic/locale-util.c
@@ -20,6 +20,7 @@
 #include "fd-util.h"
 #include "hashmap.h"
 #include "locale-util.h"
+#include "missing_fftw.h"
 #include "path-util.h"
 #include "set.h"
 #include "string-table.h"
--- a/src/core/kmod-setup.c
+++ b/src/core/kmod-setup.c
@@ -10,6 +10,7 @@
 #include "fileio.h"
 #include "kmod-setup.h"
 #include "macro.h"
+#include "missing_fftw.h"
 #include "string-util.h"
 
 #if HAVE_KMOD
