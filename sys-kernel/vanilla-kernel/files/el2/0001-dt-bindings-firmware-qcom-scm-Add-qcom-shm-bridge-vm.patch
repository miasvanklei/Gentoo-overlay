From f9fbc61e6cefb8a07641535bc9a60c1949ab0a6e Mon Sep 17 00:00:00 2001
From: Stephan Gerhold <stephan@gerhold.net>
Date: Sun, 26 Oct 2025 14:50:30 +0100
Subject: [PATCH 090/150] dt-bindings: firmware: qcom,scm: Add
 qcom,shm-bridge-vmid

Signed-off-by: Stephan Gerhold <stephan@gerhold.net>
Signed-off-by: Abel Vesa <abel.vesa@oss.qualcomm.com>
---
 Documentation/devicetree/bindings/firmware/qcom,scm.yaml | 8 ++++++++
 include/dt-bindings/firmware/qcom,scm.h                  | 3 +++
 2 files changed, 11 insertions(+)

diff --git a/Documentation/devicetree/bindings/firmware/qcom,scm.yaml b/Documentation/devicetree/bindings/firmware/qcom,scm.yaml
index ef97faac7..889fba133 100644
--- a/Documentation/devicetree/bindings/firmware/qcom,scm.yaml
+++ b/Documentation/devicetree/bindings/firmware/qcom,scm.yaml
@@ -106,6 +106,14 @@ properties:
       Phandle to the memory region reserved for the shared memory bridge to TZ.
     maxItems: 1
 
+  qcom,shm-bridge-vmid:
+    $ref: /schemas/types.yaml#/definitions/uint32
+    description:
+      VMID to use as owner of shared memory bridge allocations for TZ.
+      QCOM_SCM_VMID_SELF_OWNER may be used to indicate that the allocations
+      should be self-owned rather than being assigned to a specific VMID.
+      Defaults to QCOM_SCM_VMID_HLOS if not specified.
+
   qcom,sdi-enabled:
     description:
       Indicates that the SDI (Secure Debug Image) has been enabled by TZ
diff --git a/include/dt-bindings/firmware/qcom,scm.h b/include/dt-bindings/firmware/qcom,scm.h
index 6de8b08e1..1e0a477f0 100644
--- a/include/dt-bindings/firmware/qcom,scm.h
+++ b/include/dt-bindings/firmware/qcom,scm.h
@@ -36,4 +36,7 @@
 #define QCOM_SCM_VMID_TVM		0x2D
 #define QCOM_SCM_VMID_OEMVM		0x31
 
+/* Special value intended for qcom,shm-bridge-vmid */
+#define QCOM_SCM_VMID_SELF_OWNER	0xffffffff
+
 #endif
-- 
2.52.0

