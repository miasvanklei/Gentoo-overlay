From b8e3380f80da15b1e384ff56f992baac3fd7f3ee Mon Sep 17 00:00:00 2001
From: Oleg Grenrus <oleg.grenrus@iki.fi>
Date: Tue, 24 May 2016 16:19:46 +0300
Subject: [PATCH] UnfelpfulSpan line number omitted

Kind of resolves https://github.com/haskell/haddock/issues/508
---
 utils/haddock/haddock-api/src/Haddock/Backends/Xhtml/Utils.hs | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/utils/haddock/haddock-api/src/Haddock/Backends/Xhtml/Utils.hs b/utils/haddock/haddock-api/src/Haddock/Backends/Xhtml/Utils.hs
index 1d49807d..391bb50c 100644
--- a/utils/haddock/haddock-api/src/Haddock/Backends/Xhtml/Utils.hs
+++ b/utils/haddock/haddock-api/src/Haddock/Backends/Xhtml/Utils.hs
@@ -75,8 +75,7 @@ spliceURL' maybe_file maybe_mod maybe_name maybe_loc = run
       case span_ of
       RealSrcSpan span__ ->
         show $ srcSpanStartLine span__
-      UnhelpfulSpan _ ->
-        error "spliceURL UnhelpfulSpan"
+      UnhelpfulSpan _ -> ""
 
   run "" = ""
   run ('%':'M':rest) = mdl  ++ run rest
