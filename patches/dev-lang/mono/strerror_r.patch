--- support/errno.c.bak	2015-10-13 23:44:21.612911612 +0200
+++ support/errno.c	2015-10-13 23:44:49.112812561 +0200
@@ -35,7 +35,7 @@
  * we assume that the XPG version is present.
  */
 
-#ifdef _GNU_SOURCE
+#ifdef __GLIBC__
 #define mph_min(x,y) ((x) <= (y) ? (x) : (y))
 
 /* If you pass an invalid errno value to glibc 2.3.2's strerror_r, you get
