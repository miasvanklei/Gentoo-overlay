From 1b4169f51e70d8ad6a992e2ce4786134c9606b49 Mon Sep 17 00:00:00 2001
From: Emil Renner Berthing <systemd@esmil.dk>
Date: Thu, 18 Sep 2014 15:24:44 +0200
Subject: [PATCH] don't fail if GLOB_BRACE is not defined

If the standard library doesn't provide brace
expansion users just won't get it.
---
 src/basic/glob-util.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/basic/glob-util.c b/src/basic/glob-util.c
index 007198c..a541c91 100644
--- a/src/basic/glob-util.c
+++ b/src/basic/glob-util.c
@@ -24,6 +24,12 @@
 #include "macro.h"
 #include "strv.h"
 
+/* Don't fail if the standard library
+ * doesn't provide brace expansion */
+#ifndef GLOB_BRACE
+#define GLOB_BRACE 0
+#endif
+
 int glob_exists(const char *path) {
         _cleanup_globfree_ glob_t g = {};
         int k;
