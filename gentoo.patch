diff --git a/app-emulation/libvirt/libvirt-8.1.0.ebuild b/app-emulation/libvirt/libvirt-8.1.0.ebuild
index fb02517f617..f904329c961 100644
--- a/app-emulation/libvirt/libvirt-8.1.0.ebuild
+++ b/app-emulation/libvirt/libvirt-8.1.0.ebuild
@@ -110,8 +110,6 @@ RDEPEND="
 	selinux? ( >=sys-libs/libselinux-2.0.85 )
 	virt-network? (
 		net-dns/dnsmasq[dhcp,ipv6(+),script]
-		net-firewall/ebtables
-		>=net-firewall/iptables-1.4.10[ipv6(+)]
 		net-misc/radvd
 		sys-apps/iproute2[-minimal]
 	)
diff --git a/app-emulation/virt-manager/virt-manager-4.0.0.ebuild b/app-emulation/virt-manager/virt-manager-4.0.0.ebuild
index f0c76db800b..eb02d5518c6 100644
--- a/app-emulation/virt-manager/virt-manager-4.0.0.ebuild
+++ b/app-emulation/virt-manager/virt-manager-4.0.0.ebuild
@@ -42,7 +42,7 @@ RDEPEND="${PYTHON_DEPS}
 		>=net-libs/gtk-vnc-0.3.8[gtk3(+),introspection]
 		net-misc/spice-gtk[usbredir,gtk3,introspection,sasl?]
 		policykit? ( sys-auth/polkit[introspection] )
-		sys-apps/dbus[X]
+		sys-apps/dbus
 		x11-libs/gtk+:3[introspection]
 		x11-libs/gtksourceview:4[introspection]
 		x11-libs/vte:2.91[introspection]
diff --git a/app-misc/solaar/solaar-1.1.2_rc2.ebuild b/app-misc/solaar/solaar-1.1.2_rc2.ebuild
index ed9a688180e..3f5a489690c 100644
--- a/app-misc/solaar/solaar-1.1.2_rc2.ebuild
+++ b/app-misc/solaar/solaar-1.1.2_rc2.ebuild
@@ -4,7 +4,7 @@
 EAPI=7
 
 DISTUTILS_SINGLE_IMPL=1
-PYTHON_COMPAT=( python3_{7..9} )
+PYTHON_COMPAT=( python3_{7..10} )
 
 inherit linux-info udev xdg distutils-r1
 
diff --git a/app-mobilephone/scrcpy/scrcpy-1.23.ebuild b/app-mobilephone/scrcpy/scrcpy-1.23.ebuild
index 7ca29eab260..bcb7a22cbb5 100644
--- a/app-mobilephone/scrcpy/scrcpy-1.23.ebuild
+++ b/app-mobilephone/scrcpy/scrcpy-1.23.ebuild
@@ -15,7 +15,7 @@ LICENSE="Apache-2.0"
 SLOT="0"
 KEYWORDS="~amd64 ~ppc64 ~x86"
 
-RDEPEND="media-libs/libsdl2[X]
+RDEPEND="media-libs/libsdl2
 	media-video/ffmpeg
 	virtual/libusb:1"
 DEPEND="${RDEPEND}"
diff --git a/app-office/libreoffice/libreoffice-7.2.6.2.ebuild b/app-office/libreoffice/libreoffice-7.2.6.2.ebuild
index e62667b537b..bfc2379a3f9 100644
--- a/app-office/libreoffice/libreoffice-7.2.6.2.ebuild
+++ b/app-office/libreoffice/libreoffice-7.2.6.2.ebuild
@@ -265,6 +265,9 @@ BDEPEND="
 	virtual/pkgconfig
 	clang? (
 		|| (
+			(	sys-devel/clang:14
+				sys-devel/llvm:14
+				=sys-devel/lld-14*	)
 			(	sys-devel/clang:13
 				sys-devel/llvm:13
 				=sys-devel/lld-13*	)
diff --git a/dev-java/openjdk/openjdk-17.0.2_p8.ebuild b/dev-java/openjdk/openjdk-17.0.2_p8.ebuild
index 501c0e15b4d..4da4ad17538 100644
--- a/dev-java/openjdk/openjdk-17.0.2_p8.ebuild
+++ b/dev-java/openjdk/openjdk-17.0.2_p8.ebuild
@@ -96,6 +96,8 @@ DEPEND="
 	javafx? ( dev-java/openjfx:${SLOT}= )
 	system-bootstrap? (
 		|| (
+			dev-java/openjdk-bin:$((${SLOT} - 1))
+			dev-java/openjdk:$((${SLOT} - 1))
 			dev-java/openjdk-bin:${SLOT}
 			dev-java/openjdk:${SLOT}
 		)
@@ -128,7 +130,7 @@ pkg_setup() {
 	openjdk_check_requirements
 	java-vm-2_pkg_setup
 
-	JAVA_PKG_WANT_BUILD_VM="openjdk-${SLOT} openjdk-bin-${SLOT}"
+	JAVA_PKG_WANT_BUILD_VM="openjdk-$((${SLOT} - 1)) openjdk-bin-$((${SLOT} - 1)) openjdk-${SLOT} openjdk-bin-${SLOT}"
 	JAVA_PKG_WANT_SOURCE="${SLOT}"
 	JAVA_PKG_WANT_TARGET="${SLOT}"
 
@@ -211,6 +213,7 @@ src_configure() {
 		--enable-dtrace=$(usex systemtap yes no)
 		--enable-headless-only=$(usex headless-awt yes no)
 		$(tc-is-clang && echo "--with-toolchain-type=clang")
+		--with-stdc++lib=dynamic
 	)
 
 	if use javafx; then
diff --git a/dev-libs/jansson/jansson-2.14.ebuild b/dev-libs/jansson/jansson-2.14.ebuild
index 42760f31153..ebf7683cee6 100644
--- a/dev-libs/jansson/jansson-2.14.ebuild
+++ b/dev-libs/jansson/jansson-2.14.ebuild
@@ -19,8 +19,6 @@ BDEPEND="doc? ( dev-python/sphinx )"
 PATCHES=( "${FILESDIR}/${P}-test-symbols.patch" )
 
 multilib_src_configure() {
-	tc-ld-force-bfd
-
 	ECONF_SOURCE="${S}" econf $(use_enable static-libs static)
 }
 
diff --git a/dev-libs/libffi/libffi-3.3-r2.ebuild b/dev-libs/libffi/libffi-3.3-r2.ebuild
index 3d1f2530f8f..721d8c01f88 100644
--- a/dev-libs/libffi/libffi-3.3-r2.ebuild
+++ b/dev-libs/libffi/libffi-3.3-r2.ebuild
@@ -49,19 +49,8 @@ src_prepare() {
 }
 
 multilib_src_configure() {
-	# --includedir= path maintains a few properties:
-	# 1. have stable name across libffi versions: some packages like
-	#    dev-lang/ghc or kde-frameworks/networkmanager-qt embed
-	#    ${includedir} at build-time. Don't require those to be
-	#    rebuilt unless SONAME changes. bug #695788
-	#
-	#    We use /usr/.../${PN} (instead of former /usr/.../${P}).
-	#
-	# 2. have ${ABI}-specific location as ffi.h is target-dependent.
-	#
-	#    We use /usr/$(get_libdir)/... to have ABI identifier.
+	use userland_BSD && export HOST="${CHOST}"
 	econf \
-		--includedir="${EPREFIX}"/usr/$(get_libdir)/${PN}/include \
 		--disable-multi-os-directory \
 		$(use_enable static-libs static) \
 		$(use_enable pax-kernel pax_emutramp) \
diff --git a/dev-libs/zziplib/zziplib-0.13.72.ebuild b/dev-libs/zziplib/zziplib-0.13.72.ebuild
index 7a79e6dbded..326003777fb 100644
--- a/dev-libs/zziplib/zziplib-0.13.72.ebuild
+++ b/dev-libs/zziplib/zziplib-0.13.72.ebuild
@@ -3,7 +3,7 @@
 
 EAPI=7
 
-PYTHON_COMPAT=( python3_{7..9} )
+PYTHON_COMPAT=( python3_{7..10} )
 
 inherit cmake flag-o-matic python-any-r1
 
diff --git a/dev-util/flatpak-builder/flatpak-builder-1.0.11.ebuild b/dev-util/flatpak-builder/flatpak-builder-1.0.11.ebuild
index a8017f003f1..27fdf168897 100644
--- a/dev-util/flatpak-builder/flatpak-builder-1.0.11.ebuild
+++ b/dev-util/flatpak-builder/flatpak-builder-1.0.11.ebuild
@@ -21,6 +21,7 @@ RDEPEND="
 	>=dev-libs/libxml2-2.4:=
 	dev-libs/json-glib:=
 	net-misc/curl:=
+	elibc_musl? ( dev-libs/libdwarf )
 	yaml? ( dev-libs/libyaml:= )
 "
 DEPEND="${RDEPEND}"
diff --git a/eclass/linux-mod.eclass b/eclass/linux-mod.eclass
index e327be7ca13..5d4f1c3094e 100644
--- a/eclass/linux-mod.eclass
+++ b/eclass/linux-mod.eclass
@@ -710,6 +710,7 @@ linux-mod_src_compile() {
 			# fails.
 			eval "emake HOSTCC=\"$(tc-getBUILD_CC)\" \
 						LDFLAGS=\"$(get_abi_LDFLAGS)\" \
+						LLVM_IAS=1 \
 						${BUILD_FIXES} \
 						${BUILD_PARAMS} \
 						${BUILD_TARGETS} " \
diff --git a/gnome-base/gnome-desktop/gnome-desktop-41.3.ebuild b/gnome-base/gnome-desktop/gnome-desktop-41.3.ebuild
index 7aeb9c59632..be8b43ca840 100644
--- a/gnome-base/gnome-desktop/gnome-desktop-41.3.ebuild
+++ b/gnome-base/gnome-desktop/gnome-desktop-41.3.ebuild
@@ -58,7 +58,7 @@ src_configure() {
 	local emesonargs=(
 		-Dgnome_distributor=Gentoo
 		-Ddate_in_gnome_version=true
-		-Ddesktop_docs=true
+		-Ddesktop_docs=false
 		$(meson_use debug debug_tools)
 		$(meson_use introspection)
 		$(meson_feature udev)
diff --git a/kde-apps/gwenview/gwenview-21.12.3.ebuild b/kde-apps/gwenview/gwenview-21.12.3.ebuild
index 8f971775e1a..eeeb512673a 100644
--- a/kde-apps/gwenview/gwenview-21.12.3.ebuild
+++ b/kde-apps/gwenview/gwenview-21.12.3.ebuild
@@ -88,7 +88,7 @@ src_configure() {
 		$(cmake_use_find_package raw KF5KDcraw)
 		-DGWENVIEW_SEMANTICINFO_BACKEND=$(usex semantic-desktop Baloo None)
 		$(cmake_use_find_package share KF5Purpose)
-		$(cmake_use_find_package X X11)
+		-DWITH_X11=$(usex X)
 	)
 	ecm_src_configure
 }
diff --git a/kde-apps/kdialog/kdialog-21.12.3.ebuild b/kde-apps/kdialog/kdialog-21.12.3.ebuild
index cbf803235d2..890fd4f4ee8 100644
--- a/kde-apps/kdialog/kdialog-21.12.3.ebuild
+++ b/kde-apps/kdialog/kdialog-21.12.3.ebuild
@@ -36,7 +36,7 @@ RDEPEND="${DEPEND}"
 
 src_configure() {
 	local mycmakeargs=(
-		$(cmake_use_find_package X X11)
+		-DWITH_X11=$(usex X)
 	)
 	ecm_src_configure
 }
diff --git a/kde-apps/kio-extras/kio-extras-21.12.3.ebuild b/kde-apps/kio-extras/kio-extras-21.12.3.ebuild
index 238015426ed..db4ac90748d 100644
--- a/kde-apps/kio-extras/kio-extras-21.12.3.ebuild
+++ b/kde-apps/kio-extras/kio-extras-21.12.3.ebuild
@@ -83,7 +83,7 @@ src_configure() {
 		$(cmake_use_find_package samba Samba)
 		$(cmake_use_find_package sftp libssh)
 		$(cmake_use_find_package taglib Taglib)
-		$(cmake_use_find_package X X11)
+		-DWITH_X11=$(usex X)
 	)
 	use samba && mycmakeargs+=(
 		-DBUILD_KDSoapWSDiscoveryClient=OFF # disable bundled stuff
diff --git a/kde-apps/konsole/konsole-21.12.3.ebuild b/kde-apps/konsole/konsole-21.12.3.ebuild
index 68c5fea49fd..e4912dbf5d3 100644
--- a/kde-apps/konsole/konsole-21.12.3.ebuild
+++ b/kde-apps/konsole/konsole-21.12.3.ebuild
@@ -52,7 +52,7 @@ RDEPEND="${DEPEND}"
 
 src_configure() {
 	local mycmakeargs=(
-		$(cmake_use_find_package X X11)
+		-DWITH_X11=$(usex X)
 	)
 
 	ecm_src_configure
diff --git a/kde-frameworks/kinit/kinit-5.92.0.ebuild b/kde-frameworks/kinit/kinit-5.92.0.ebuild
index 591d4a01dda..c29b68ac1ce 100644
--- a/kde-frameworks/kinit/kinit-5.92.0.ebuild
+++ b/kde-frameworks/kinit/kinit-5.92.0.ebuild
@@ -43,8 +43,8 @@ src_configure() {
 	local mycmakeargs=(
 		$(cmake_use_find_package caps Libcap)
 		$(cmake_use_find_package man KF5DocTools)
-		$(cmake_use_find_package X X11)
 		$(cmake_use_find_package X XCB)
+		-DWITH_X11=$(usex X)
 	)
 
 	ecm_src_configure
diff --git a/kde-frameworks/kio/kio-5.92.0.ebuild b/kde-frameworks/kio/kio-5.92.0.ebuild
index 4c11583c2ae..5b8e6948d23 100644
--- a/kde-frameworks/kio/kio-5.92.0.ebuild
+++ b/kde-frameworks/kio/kio-5.92.0.ebuild
@@ -77,7 +77,7 @@ src_configure() {
 		$(cmake_use_find_package handbook KF5DocTools)
 		$(cmake_use_find_package kerberos GSSAPI)
 		$(cmake_use_find_package kwallet KF5Wallet)
-		$(cmake_use_find_package X X11)
+		-DWITH_X11=$(usex X)
 	)
 
 	ecm_src_configure
diff --git a/kde-plasma/kde-gtk-config/kde-gtk-config-5.24.3.ebuild b/kde-plasma/kde-gtk-config/kde-gtk-config-5.24.3.ebuild
index 0292f04f026..5111ec4080d 100644
--- a/kde-plasma/kde-gtk-config/kde-gtk-config-5.24.3.ebuild
+++ b/kde-plasma/kde-gtk-config/kde-gtk-config-5.24.3.ebuild
@@ -18,7 +18,6 @@ KEYWORDS="~amd64 ~arm ~arm64 ~ppc64 ~riscv ~x86"
 IUSE=""
 
 DEPEND="
-	dev-cpp/glibmm:2
 	dev-libs/glib:2
 	>=dev-qt/qtdbus-${QTMIN}:5
 	>=dev-qt/qtgui-${QTMIN}:5
diff --git a/kde-plasma/libksysguard/libksysguard-5.24.3.ebuild b/kde-plasma/libksysguard/libksysguard-5.24.3.ebuild
index 5b960e03fd2..2bd9288cc7c 100644
--- a/kde-plasma/libksysguard/libksysguard-5.24.3.ebuild
+++ b/kde-plasma/libksysguard/libksysguard-5.24.3.ebuild
@@ -65,7 +65,7 @@ src_configure() {
 	local mycmakeargs=(
 		$(cmake_use_find_package webengine Qt5WebChannel)
 		$(cmake_use_find_package webengine Qt5WebEngineWidgets)
-		$(cmake_use_find_package X X11)
+		-DWITH_X11=$(usex X)
 	)
 
 	ecm_src_configure
diff --git a/media-libs/graphene/graphene-1.10.6-r1.ebuild b/media-libs/graphene/graphene-1.10.6-r1.ebuild
index b632a2b91b3..575e9af9d51 100644
--- a/media-libs/graphene/graphene-1.10.6-r1.ebuild
+++ b/media-libs/graphene/graphene-1.10.6-r1.ebuild
@@ -3,7 +3,7 @@
 
 EAPI=7
 
-PYTHON_COMPAT=( python3_{7..9} )
+PYTHON_COMPAT=( python3_{7..10} )
 inherit xdg-utils meson-multilib python-any-r1
 
 DESCRIPTION="A thin layer of types for graphic libraries"
diff --git a/media-libs/mesa/mesa-22.0.0.ebuild b/media-libs/mesa/mesa-22.0.0.ebuild
index 15b5138f55f..7d53d03ba86 100644
--- a/media-libs/mesa/mesa-22.0.0.ebuild
+++ b/media-libs/mesa/mesa-22.0.0.ebuild
@@ -111,9 +111,10 @@ RDEPEND="${RDEPEND}
 # 1. List all the working slots (with min versions) in ||, newest first.
 # 2. Update the := to specify *max* version, e.g. < 10.
 # 3. Specify LLVM_MAX_SLOT, e.g. 9.
-LLVM_MAX_SLOT="13"
+LLVM_MAX_SLOT="14"
 LLVM_DEPSTR="
 	|| (
+		sys-devel/llvm:14[${MULTILIB_USEDEP}]
 		sys-devel/llvm:13[${MULTILIB_USEDEP}]
 		sys-devel/llvm:12[${MULTILIB_USEDEP}]
 		sys-devel/llvm:11[${MULTILIB_USEDEP}]
diff --git a/media-libs/mlt/mlt-7.4.0.ebuild b/media-libs/mlt/mlt-7.4.0.ebuild
index e0c70f26c65..6236078d561 100644
--- a/media-libs/mlt/mlt-7.4.0.ebuild
+++ b/media-libs/mlt/mlt-7.4.0.ebuild
@@ -59,7 +59,7 @@ DEPEND="
 	)
 	rubberband? ( media-libs/rubberband )
 	sdl? (
-		media-libs/libsdl2[X,opengl,video]
+		media-libs/libsdl2[opengl,video]
 		media-libs/sdl2-image
 	)
 	vidstab? ( media-libs/vidstab )
diff --git a/media-video/mkvtoolnix/mkvtoolnix-60.0.0.ebuild b/media-video/mkvtoolnix/mkvtoolnix-60.0.0.ebuild
index cd70327db01..d2d56536d98 100644
--- a/media-video/mkvtoolnix/mkvtoolnix-60.0.0.ebuild
+++ b/media-video/mkvtoolnix/mkvtoolnix-60.0.0.ebuild
@@ -19,7 +19,7 @@ HOMEPAGE="https://mkvtoolnix.download/ https://gitlab.com/mbunkus/mkvtoolnix"
 
 LICENSE="GPL-2"
 SLOT="0"
-IUSE="dbus debug dvd nls pch test"
+IUSE="dbus debug dvd gui nls pch test"
 RESTRICT="!test? ( test )"
 
 # check NEWS.md for build system changes entries for boost/libebml/libmatroska
@@ -43,7 +43,7 @@ RDEPEND="
 	dev-qt/qtwidgets:5
 	dev-qt/qtconcurrent:5
 	dev-qt/qtmultimedia:5
-	app-text/cmark:0=
+	gui? ( app-text/cmark:0= )
 	dbus? ( dev-qt/qtdbus:5 )
 "
 DEPEND="${RDEPEND}
@@ -87,6 +87,7 @@ src_configure() {
 		$(use_enable debug)
 		$(usex pch "" --disable-precompiled-headers)
 		$(use_enable dbus)
+		$(use_enable gui)
 		--disable-qt6
 		--enable-qt5
 		--with-qmake=$(qt5_get_bindir)/qmake
diff --git a/media-video/obs-studio/obs-studio-27.1.3-r2.ebuild b/media-video/obs-studio/obs-studio-27.1.3-r2.ebuild
index a018ce0e796..a96a2fc5ad9 100644
--- a/media-video/obs-studio/obs-studio-27.1.3-r2.ebuild
+++ b/media-video/obs-studio/obs-studio-27.1.3-r2.ebuild
@@ -119,7 +119,6 @@ QA_PREBUILT="
 "
 
 PATCHES=(
-	"${FILESDIR}/${PN}-26.1.2-python-3.8.patch"
 	"${FILESDIR}/${PN}-27.1.3-ffmpeg-5.0.patch"
 )
 
diff --git a/net-libs/libpsl/libpsl-0.21.1.ebuild b/net-libs/libpsl/libpsl-0.21.1.ebuild
index 3af43132fb4..a64f5cc0f2d 100644
--- a/net-libs/libpsl/libpsl-0.21.1.ebuild
+++ b/net-libs/libpsl/libpsl-0.21.1.ebuild
@@ -3,7 +3,7 @@
 
 EAPI=7
 
-PYTHON_COMPAT=( python3_{8..9} )
+PYTHON_COMPAT=( python3_{8..10} )
 inherit multilib-minimal python-any-r1
 
 DESCRIPTION="C library for the Public Suffix List"
diff --git a/net-misc/spice-gtk/spice-gtk-0.39-r2.ebuild b/net-misc/spice-gtk/spice-gtk-0.39-r2.ebuild
index 26009d625fe..b76c83918ab 100644
--- a/net-misc/spice-gtk/spice-gtk-0.39-r2.ebuild
+++ b/net-misc/spice-gtk/spice-gtk-0.39-r2.ebuild
@@ -95,6 +95,7 @@ src_prepare() {
 
 src_configure() {
 	local emesonargs=(
+		-Dcoroutine=gthread
 		$(meson_feature gtk3 gtk)
 		$(meson_feature introspection)
 		$(meson_use mjpeg builtin-mjpeg)
diff --git a/sys-apps/attr/attr-2.5.1.ebuild b/sys-apps/attr/attr-2.5.1.ebuild
index 03afe6d30c1..28bad3ecf69 100644
--- a/sys-apps/attr/attr-2.5.1.ebuild
+++ b/sys-apps/attr/attr-2.5.1.ebuild
@@ -39,7 +39,6 @@ src_configure() {
 	# Remove -flto* from flags as this breaks binaries (bug #644048)
 	filter-flags -flto*
 	append-ldflags "-Wl,--no-gc-sections" #700116
-	tc-ld-force-bfd #644048
 	append-lfs-flags #760857
 	multilib-minimal_src_configure
 }
diff --git a/sys-auth/polkit/files/polkit-0.118-make-netgroup-support-optional.patch b/sys-auth/polkit/files/polkit-0.118-make-netgroup-support-optional.patch
index b11250fd399..5e0b76466bc 100644
--- a/sys-auth/polkit/files/polkit-0.118-make-netgroup-support-optional.patch
+++ b/sys-auth/polkit/files/polkit-0.118-make-netgroup-support-optional.patch
@@ -30,7 +30,7 @@ Signed-off-by: A. Wilcox <AWilcox@Wilcox-Tech.com>
  AC_SUBST(EXPAT_LIBS)
  
 -AC_CHECK_FUNCS(clearenv fdatasync)
-+AC_CHECK_FUNCS(clearenv fdatasync setnetgrent)
++AC_CHECK_FUNCS(clearenv fdatasync setnetgrent innetgr)
  
  if test "x$GCC" = "xyes"; then
    LDFLAGS="-Wl,--as-needed $LDFLAGS"
@@ -226,3 +226,21 @@ Signed-off-by: A. Wilcox <AWilcox@Wilcox-Tech.com>
    };
    guint n;
  
+--- a/src/polkitbackend/polkitbackendduktapeauthority.c
++++ b/src/polkitbackend/polkitbackendduktapeauthority.c
+@@ -1036,6 +1036,7 @@
+   user = duk_require_string (cx, 0);
+   netgroup = duk_require_string (cx, 1);
+ 
++#ifdef HAVE_INNETGR
+   if (innetgr (netgroup,
+                NULL,  /* host */
+                user,
+@@ -1043,6 +1044,7 @@
+     {
+       is_in_netgroup = TRUE;
+     }
++#endif
+ 
+   duk_push_boolean (cx, is_in_netgroup);
+   return 1;
diff --git a/sys-devel/clang/clang-14.0.0.ebuild b/sys-devel/clang/clang-14.0.0.ebuild
index 43eab1f8e73..be1066cbed0 100644
--- a/sys-devel/clang/clang-14.0.0.ebuild
+++ b/sys-devel/clang/clang-14.0.0.ebuild
@@ -21,8 +21,11 @@ IUSE="debug default-compiler-rt default-libcxx default-lld
 REQUIRED_USE="${PYTHON_REQUIRED_USE}"
 RESTRICT="!test? ( test )"
 
+IUSE="${IUSE} +flang gcc-symlinks"
+
 RDEPEND="
 	~sys-devel/llvm-${PV}:${SLOT}=[debug=,${MULTILIB_USEDEP}]
+	default-compiler-rt? ( =sys-libs/compiler-rt-${PV%_*}* )
 	static-analyzer? ( dev-lang/perl:* )
 	xml? ( dev-libs/libxml2:2=[${MULTILIB_USEDEP}] )
 	${PYTHON_DEPS}"
@@ -37,10 +40,13 @@ PDEPEND="
 	sys-devel/clang-common
 	~sys-devel/clang-runtime-${PV}
 	default-compiler-rt? (
-		=sys-libs/compiler-rt-${PV%_*}*
 		llvm-libunwind? ( sys-libs/llvm-libunwind )
 		!llvm-libunwind? ( sys-libs/libunwind )
 	)
+	flang? (
+		dev-libs/libpgmath
+		dev-lang/flang
+		sys-devel/llvm[flang] )
 	default-libcxx? ( >=sys-libs/libcxx-${PV} )
 	default-lld? ( sys-devel/lld )"
 
@@ -223,8 +229,7 @@ get_distribution_components() {
 }
 
 multilib_src_configure() {
-	local llvm_version=$(llvm-config --version) || die
-	local clang_version=$(ver_cut 1-3 "${llvm_version}")
+	local clang_version=$(ver_cut 1-3)
 
 	local mycmakeargs=(
 		-DLLVM_CMAKE_PATH="${EPREFIX}/usr/lib/llvm/${SLOT}/$(get_libdir)/cmake/llvm"
@@ -239,6 +244,7 @@ multilib_src_configure() {
 
 		-DLLVM_TARGETS_TO_BUILD="${LLVM_TARGETS// /;}"
 		-DLLVM_BUILD_TESTS=$(usex test)
+		-DLLVM_ENABLE_CLASSIC_FLANG=$(usex flang)
 
 		# these are not propagated reliably, so redefine them
 		-DLLVM_ENABLE_EH=ON
@@ -259,6 +265,10 @@ multilib_src_configure() {
 		-DCLANG_DEFAULT_PIE_ON_LINUX=$(usex pie)
 		-DCLANG_DEFAULT_UNWINDLIB=$(usex default-compiler-rt libunwind "")
 
+		# create gcc symlinks: gcc g++ cc cpp c++
+		-DCLANG_INSTALL_GCC_SYMLINKS=$(usex gcc-symlinks)
+
+
 		-DCLANG_ENABLE_ARCMT=$(usex static-analyzer)
 		-DCLANG_ENABLE_STATIC_ANALYZER=$(usex static-analyzer)
 
@@ -351,12 +361,15 @@ src_install() {
 
 	# Apply CHOST and version suffix to clang tools
 	# note: we use two version components here (vs 3 in runtime path)
-	local llvm_version=$(llvm-config --version) || die
-	local clang_version=$(ver_cut 1 "${llvm_version}")
-	local clang_full_version=$(ver_cut 1-3 "${llvm_version}")
-	local clang_tools=( clang clang++ clang-cl clang-cpp )
+	local clang_version=$(ver_cut 1)
+	local clang_full_version=$(ver_cut 1-3)
+	local clang_tools=( clang clang++ clang-cl clang-cpp gcc g++ cpp )
 	local abi i
 
+	if use flang; then
+		clang_tools+=( flang gfortran )
+	fi
+
 	# cmake gives us:
 	# - clang-X
 	# - clang -> clang-X
diff --git a/sys-devel/distcc/distcc-3.4.ebuild b/sys-devel/distcc/distcc-3.4.ebuild
index cb49de0fd3c..f8147fe3366 100644
--- a/sys-devel/distcc/distcc-3.4.ebuild
+++ b/sys-devel/distcc/distcc-3.4.ebuild
@@ -3,7 +3,7 @@
 
 EAPI=7
 
-PYTHON_COMPAT=( python3_{7..9} )
+PYTHON_COMPAT=( python3_{7..10} )
 
 inherit autotools flag-o-matic prefix python-single-r1 systemd \
 	toolchain-funcs xdg-utils
@@ -67,6 +67,7 @@ src_configure() {
 	local myconf=(
 		--disable-Werror
 		--libdir="${EPREFIX}"/usr/lib
+		--without-libiberty
 		$(use_enable ipv6 rfc2553)
 		$(use_with gtk)
 		--without-gnome
diff --git a/sys-devel/distcc/files/distccd.service-1 b/sys-devel/distcc/files/distccd.service-1
index 9bd470297df..fd481026e27 100644
--- a/sys-devel/distcc/files/distccd.service-1
+++ b/sys-devel/distcc/files/distccd.service-1
@@ -4,7 +4,7 @@ After=network.target
 
 [Service]
 User=distcc
-ExecStart=/usr/bin/distccd --no-detach --daemon --port 3632 -N 15 --allow $ALLOWED_SERVERS
+ExecStart=/usr/bin/distccd --no-detach --daemon --port 3632 -N 15 $ALLOWED_SERVERS
 
 [Install]
 WantedBy=multi-user.target
diff --git a/sys-devel/llvm/llvm-14.0.0.ebuild b/sys-devel/llvm/llvm-14.0.0.ebuild
index ad7af21fcfc..224793598ec 100644
--- a/sys-devel/llvm/llvm-14.0.0.ebuild
+++ b/sys-devel/llvm/llvm-14.0.0.ebuild
@@ -22,6 +22,8 @@ KEYWORDS="~amd64 ~arm ~arm64 ~ppc ~ppc64 ~riscv ~sparc ~x86 ~amd64-linux ~ppc-ma
 IUSE="+binutils-plugin debug doc exegesis libedit +libffi ncurses test xar xml z3"
 RESTRICT="!test? ( test )"
 
+IUSE="${IUSE} +flang binutils-symlinks"
+
 RDEPEND="
 	sys-libs/zlib:0=[${MULTILIB_USEDEP}]
 	binutils-plugin? ( >=sys-devel/binutils-2.31.1-r4:*[plugins] )
@@ -305,6 +307,23 @@ get_distribution_components() {
 				docs-llvm-man
 			)
 		fi
+
+		use binutils-symlinks && out+=(
+			addr2line
+			ar
+			c++filt
+			dlltool
+			dwp
+			nm
+			objcopy
+			objdump
+			ranlib
+			readelf
+			size
+			strings
+			strip
+                )
+
 		use doc && out+=(
 			docs-llvm-html
 		)
@@ -336,6 +355,7 @@ multilib_src_configure() {
 		-DLLVM_BUILD_LLVM_DYLIB=ON
 		-DLLVM_LINK_LLVM_DYLIB=ON
 		-DLLVM_DISTRIBUTION_COMPONENTS=$(get_distribution_components)
+		-DLLVM_INSTALL_BINUTILS_SYMLINKS=$(usex binutils-symlinks)
 
 		# cheap hack: LLVM combines both anyway, and the only difference
 		# is that the former list is explicitly verified at cmake time
@@ -352,6 +372,7 @@ multilib_src_configure() {
 		-DLLVM_ENABLE_EH=ON
 		-DLLVM_ENABLE_RTTI=ON
 		-DLLVM_ENABLE_Z3_SOLVER=$(usex z3)
+		-DLLVM_ENABLE_CLASSIC_FLANG=$(usex flang)
 
 		-DLLVM_HOST_TRIPLE="${CHOST}"
 
diff --git a/sys-fs/cryfs/cryfs-0.10.3-r1.ebuild b/sys-fs/cryfs/cryfs-0.10.3-r1.ebuild
index 199c5a6badd..33eb35625eb 100644
--- a/sys-fs/cryfs/cryfs-0.10.3-r1.ebuild
+++ b/sys-fs/cryfs/cryfs-0.10.3-r1.ebuild
@@ -3,7 +3,7 @@
 
 EAPI=7
 
-PYTHON_COMPAT=( python3_{7..9} )
+PYTHON_COMPAT=( python3_{7..10} )
 inherit cmake flag-o-matic linux-info python-any-r1
 
 if [[ ${PV} == 9999 ]] ; then
diff --git a/www-client/firefox/firefox-98.0.2.ebuild b/www-client/firefox/firefox-98.0.2.ebuild
index 4b452482aed..9bc3f640086 100644
--- a/www-client/firefox/firefox-98.0.2.ebuild
+++ b/www-client/firefox/firefox-98.0.2.ebuild
@@ -5,7 +5,7 @@ EAPI="7"
 
 FIREFOX_PATCHSET="firefox-98-patches-04j.tar.xz"
 
-LLVM_MAX_SLOT=13
+LLVM_MAX_SLOT=14
 
 PYTHON_COMPAT=( python3_{8..10} )
 PYTHON_REQ_USE="ncurses,sqlite,ssl"
@@ -88,6 +88,14 @@ BDEPEND="${PYTHON_DEPS}
 	virtual/pkgconfig
 	>=virtual/rust-1.57.0
 	|| (
+		(
+			sys-devel/clang:14
+			sys-devel/llvm:14
+			clang? (
+				=sys-devel/lld-14*
+				pgo? ( =sys-libs/compiler-rt-sanitizers-14*[profile] )
+			)
+		)
 		(
 			sys-devel/clang:13
 			sys-devel/llvm:13
diff --git a/x11-misc/appmenu-gtk-module/appmenu-gtk-module-0.7.3-r2.ebuild b/x11-misc/appmenu-gtk-module/appmenu-gtk-module-0.7.3-r2.ebuild
index a9248abf20d..629a3b10447 100644
--- a/x11-misc/appmenu-gtk-module/appmenu-gtk-module-0.7.3-r2.ebuild
+++ b/x11-misc/appmenu-gtk-module/appmenu-gtk-module-0.7.3-r2.ebuild
@@ -16,7 +16,6 @@ IUSE="wayland"
 
 RDEPEND="
 	dev-libs/glib[dbus]
-	>=x11-libs/gtk+-2.24.0:2
 	>=x11-libs/gtk+-3.22.0:3[wayland=]
 "
 DEPEND="${RDEPEND}
