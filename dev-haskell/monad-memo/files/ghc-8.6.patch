--- a/Control/Monad/Trans/Memo/StateCache.hs	2018-08-31 08:02:49.000000000 +0200
+++ b/Control/Monad/Trans/Memo/StateCache.hs	2018-09-24 23:49:29.357279427 +0200
@@ -30,6 +30,7 @@
 import Control.Applicative
 import Control.Monad
 import Control.Monad.IO.Class
+import Control.Monad.Fail
 import Control.Monad.Fix
 import Control.Monad.Trans.Class
 import Control.Monad.Trans.State.Strict
@@ -40,7 +41,7 @@
 
 
 newtype StateCache c m a = StateCache { toStateT :: StateT c m a }
-    deriving (Functor, Applicative, Alternative, Monad, MonadPlus, MonadFix, MonadTrans, MonadIO)
+    deriving (Functor, Applicative, Alternative, Monad, MonadPlus, MonadFail, MonadFix, MonadTrans, MonadIO)
 
 {-# INLINE runStateCache #-}
 runStateCache :: StateCache s m a -> s -> m (a, s)
