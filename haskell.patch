diff --git a/dev-haskell/aeson/aeson-1.4.6.0.ebuild b/dev-haskell/aeson/aeson-1.4.6.0.ebuild
index b29bff853..4f4f97755 100644
--- a/dev-haskell/aeson/aeson-1.4.6.0.ebuild
+++ b/dev-haskell/aeson/aeson-1.4.6.0.ebuild
@@ -57,6 +57,14 @@ DEPEND="${RDEPEND}
 # 		dev-haskell/tasty-quickcheck )
 # "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'template-haskell >= 2.7.0.0 && < 2.16' 'template-haskell >= 2.7.0.0 && < 2.17' \
+		'ghc-prim         >= 0.2     && < 0.6' 'ghc-prim         >= 0.2     && < 0.7'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		$(cabal_flag cffi cffi) \
diff --git a/dev-haskell/async/async-2.2.2.ebuild b/dev-haskell/async/async-2.2.2.ebuild
index c17f1a704..f26524808 100644
--- a/dev-haskell/async/async-2.2.2.ebuild
+++ b/dev-haskell/async/async-2.2.2.ebuild
@@ -29,6 +29,13 @@ DEPEND="${RDEPEND}
 		dev-haskell/test-framework-hunit )
 "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base >= 4.3 && < 4.14' 'base >= 4.3 && < 4.15'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		--flag=-bench
diff --git a/dev-haskell/binary/Manifest b/dev-haskell/binary/Manifest
index 0c0c85f0f..bfa94b8fe 100644
--- a/dev-haskell/binary/Manifest
+++ b/dev-haskell/binary/Manifest
@@ -5,3 +5,4 @@ DIST binary-0.8.3.0.tar.gz 51900 BLAKE2B 47e7db8a79e19bbe8cfde3f0b5d3c1edd441606
 DIST binary-0.8.5.1.tar.gz 54081 BLAKE2B 3e00e63b04fbc72f05bc50fcc066ffa35dbfd8e8efdad04e0e97bc937df86132dcd372b38cbda7c4e8b14e99b54df75e5975319dfe1fe7e0aed0b9aca12ad193 SHA512 0adf6c6d62dc9a8f8d16a37f6bb987bc0a0b62f25a109942ab8ce22bb9fe628eec03f92cf08e4dfff9f75ca0f0fe24fcc9e90a53ea2ccdf3aa0f67adc9412139
 DIST binary-0.8.6.0.tar.gz 57369 BLAKE2B 4e977e3840b5cf63ef83162620f7cbde570e8a6283628798bda3bd86d0b247aec12fdd0e92e4284c12647303b29f3583f72f552f17608dea787b4ebb85bdb15f SHA512 46a203abebe41e768ec778641946712b5ff16640de7318b3f61dbd6062a41decd64c3155f0ed9197bc31745fa00d0123e14cdcd21b1f21b54f16bef4a56e96bf
 DIST binary-0.8.7.0.tar.gz 57443 BLAKE2B 27d892ff28410e37fa9c8f3b852bf6c420fee8c7241815737c7c488e0e1754685ad4efe6a93eed055638870c0b64dc311e1c6e6bc6bf498420f1640557d4ef27 SHA512 2648ea70b6615c01a0e336b3fc187ecb0ad298c620df056da250fa237a2614d23f2ad11a0b11216d799aabb107f89b89d8e63daa30868bf8829ba358b9586aff
+DIST binary-0.8.8.0.tar.gz 57327 BLAKE2B c105f4bf92ec52df51d3c7bda1aae99b3d40727aa4d3c1397431b2b727a934e62ee1f9ab7ed45b3502b17bd7a9a61f95a2a66690e40ae25b177fc8c79c462ae5 SHA512 9e4b116a2661d7970dbcf5ec3432ce88514380cab145358c3368a2dca35a16ab9d1f0d09ce2eb853a456764215744195d593629fb08e29b627345e3ae913592f
diff --git a/dev-haskell/binary/binary-0.8.8.0.ebuild b/dev-haskell/binary/binary-0.8.8.0.ebuild
new file mode 100644
index 000000000..1d1bfe81a
--- /dev/null
+++ b/dev-haskell/binary/binary-0.8.8.0.ebuild
@@ -0,0 +1,35 @@
+# Copyright 1999-2019 Gentoo Authors
+# Distributed under the terms of the GNU General Public License v2
+
+EAPI=7
+
+# ebuild generated by hackport 0.6.9999
+
+CABAL_FEATURES="lib profile haddock hoogle hscolour test-suite"
+# break circular dependencies:
+# https://github.com/gentoo-haskell/gentoo-haskell/issues/810
+CABAL_FEATURES+=" nocabaldep"
+inherit haskell-cabal
+
+DESCRIPTION="Binary serialisation for Haskell values using lazy ByteStrings"
+HOMEPAGE="https://github.com/kolmodin/binary"
+SRC_URI="https://hackage.haskell.org/package/${P}/${P}.tar.gz"
+
+LICENSE="BSD"
+SLOT="0/${PV}"
+# keep in sync with ghc-8.10
+# KEYWORDS="~amd64 ~x86 ~amd64-linux ~x86-linux"
+IUSE=""
+
+RDEPEND=">=dev-lang/ghc-7.8.2:=
+"
+DEPEND="${RDEPEND}
+	test? ( >=dev-haskell/base-orphans-0.8.1 <dev-haskell/base-orphans-0.9
+		dev-haskell/hunit
+		>=dev-haskell/quickcheck-2.9
+		>=dev-haskell/random-1.0.1.0
+		dev-haskell/test-framework
+		>=dev-haskell/test-framework-quickcheck2-0.3 )
+"
+
+CABAL_CORE_LIB_GHC_PV="PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/cabal-doctest/cabal-doctest-1.0.8.ebuild b/dev-haskell/cabal-doctest/cabal-doctest-1.0.8.ebuild
index fc699db32..b33bef2a6 100644
--- a/dev-haskell/cabal-doctest/cabal-doctest-1.0.8.ebuild
+++ b/dev-haskell/cabal-doctest/cabal-doctest-1.0.8.ebuild
@@ -17,9 +17,17 @@ SLOT="0/${PV}"
 KEYWORDS="~amd64 ~x86"
 IUSE=""
 
-RDEPEND=">=dev-haskell/cabal-1.10:=[profile?] <dev-haskell/cabal-3.1:=[profile?]
+RDEPEND=">=dev-haskell/cabal-1.10:=[profile?] <dev-haskell/cabal-3.3:=[profile?]
 	>=dev-lang/ghc-7.4.1:=
 "
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.10
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+		'base       >=4.3  && <4.14' 'base       >=4.3  && <4.15' \
+		'Cabal      >=1.10 && <3.1' 'Cabal      >=1.10 && <3.3'
+}
diff --git a/dev-haskell/cabal-install/Manifest b/dev-haskell/cabal-install/Manifest
index afee07922..eb0994a5c 100644
--- a/dev-haskell/cabal-install/Manifest
+++ b/dev-haskell/cabal-install/Manifest
@@ -1,3 +1,4 @@
+DIST Cabal-v3.2.0.0-rc3.tar.gz 1926659 BLAKE2B dcdc42deb7d38a4c479e1f742df3517e71d47e5e49fba67c27835a05e8fd0dbdf25878bd08a5269ba46575850771037c60d4791d164f608e237ce47e1f602248 SHA512 7e3fac10ff8f84df2a7a38a9d3538cc6dd867b112db58b88e0f67207dabd332066a8541e3009868f18ceabcd8283e6880f6433a0b8ba3888399ae7db8872a45c
 DIST cabal-install-1.18.0.3.tar.gz 254044 BLAKE2B 362744f5733bddbf4c58a800b8cddc0994a162c04756c81e2b181a1a23441d0a0bb6dce2e06d97e4429b3eed1b4418ef7f6f01b9775ee6d3a73ceba9a54a60dc SHA512 54c3f9970135447689360b8c185ad5e618461e2fb9dc9089f420f26ccc73d92da927dc8cf32300dd736492bf78e650d92d715b4bf17aeca736499756bc84124c
 DIST cabal-install-1.20.0.6.tar.gz 277147 BLAKE2B 9894deb4d59275caa45d703d191a362aee347b3e99c6c134728adadbcba503967259d1c6b74f117541254238a71bb2dd92b600e24c31051b6ebc5f73d845fa90 SHA512 df02030503a2156af4e228e03d8381619d0dbba9496f6202833e73808a88b519d4d102bc4d944a8762bfc83ce439d46fc166918c19b77263fcf420c61d934192
 DIST cabal-install-1.22.0.1.tar.gz 300793 BLAKE2B 068fe5cbf4292bbf07cbb03c27b472d46fbc4b97347fdb9270b239e259a748d46d276c46765af69eb1fcf0f7c1ed398a834f27d0a8b024e8aee656c0610aeb5f SHA512 9554ce5b132be009b0f52206718f1fbc54d14d17c6e9cb6e758ad11a7e8f0d9f37b248cef77b6f1390591b0073090b840c73bef74214fc20688e94a74d817cf8
diff --git a/dev-haskell/cabal-install/cabal-install-3.2.0.0_rc3.ebuild b/dev-haskell/cabal-install/cabal-install-3.2.0.0_rc3.ebuild
new file mode 100644
index 000000000..bff987d9f
--- /dev/null
+++ b/dev-haskell/cabal-install/cabal-install-3.2.0.0_rc3.ebuild
@@ -0,0 +1,81 @@
+# Copyright 1999-2020 Gentoo Authors
+# Distributed under the terms of the GNU General Public License v2
+
+EAPI=7
+
+# ebuild generated by hackport 0.6.2.9999
+#hackport: flags: -monolithic,+network-uri,-debug-tracetree,-debug-expensive-assertions
+
+CABAL_FEATURES=""
+inherit haskell-cabal
+
+#MY_PN="Cabal"
+MY_P="Cabal-v${PV/_/-}"
+
+DESCRIPTION="The command-line interface for Cabal and Hackage"
+HOMEPAGE="http://www.haskell.org/cabal/"
+SRC_URI="https://github.com/haskell/cabal/archive/${MY_P}.tar.gz"
+
+LICENSE="BSD"
+SLOT="0"
+# keep in sync with ghc-8.10
+# KEYWORDS="~alpha ~amd64 ~ia64 ~ppc ~ppc64 ~sparc ~x86"
+IUSE="+native-dns"
+
+RDEPEND=">=dev-haskell/async-2.0:= <dev-haskell/async-2.3:=
+	>=dev-haskell/base16-bytestring-0.1.1:= <dev-haskell/base16-bytestring-0.2:=
+	>=dev-haskell/binary-0.7.3:= <dev-haskell/binary-0.9:=
+	>=dev-haskell/cabal-3.2:= <dev-haskell/cabal-3.3:=
+	>=dev-haskell/cryptohash-sha256-0.11:= <dev-haskell/cryptohash-sha256-0.12:=
+	>=dev-haskell/echo-0.1.3:= <dev-haskell/echo-0.2:=
+	>=dev-haskell/edit-distance-0.2.2:= <dev-haskell/edit-distance-0.3:=
+	>=dev-haskell/fail-4.9:= <dev-haskell/fail-4.10:=
+	>=dev-haskell/hackage-security-0.6:= <dev-haskell/hackage-security-0.7:=
+	>=dev-haskell/hashable-1.0:= <dev-haskell/hashable-1.4:=
+	>=dev-haskell/http-4000.1.5:= <dev-haskell/http-4000.4:=
+	>=dev-haskell/mtl-2.0:= <dev-haskell/mtl-2.3:=
+	>=dev-haskell/network-2.6:= <dev-haskell/network-3.2:=
+	>=dev-haskell/network-uri-2.6.0.2:= <dev-haskell/network-uri-2.7:=
+	>=dev-haskell/parsec-3.1.13.0:= <dev-haskell/parsec-3.2:=
+	>=dev-haskell/random-1:= <dev-haskell/random-1.2:=
+	>=dev-haskell/stm-2.0:= <dev-haskell/stm-2.6:=
+	>=dev-haskell/tar-0.5.0.3:= <dev-haskell/tar-0.6:=
+	>=dev-haskell/text-1.2.3:= <dev-haskell/text-1.3:=
+	>=dev-haskell/zlib-0.5.3:= <dev-haskell/zlib-0.7:=
+	>=dev-lang/ghc-7.10.1:=
+	native-dns? ( >=dev-haskell/resolv-0.1.1:= <dev-haskell/resolv-0.2:= )
+"
+DEPEND="${RDEPEND}
+	>=dev-haskell/cabal-1.22.2.0
+"
+
+S="${WORKDIR}/cabal-${MY_P}/cabal-install"
+
+src_prepare() {
+	default
+
+	cabal_chdeps \
+		'base       >= 4.8      && < 4.14' 'base       >= 4.8      && < 4.15'
+
+	#if use noprefs; then
+	#	epatch "${FILESDIR}/${PN}"-0.13.3-nopref.patch
+	#fi
+
+	# no chance to link to -threaded on ppc64, alpha and others
+	# who use UNREG, not only ARM
+	if ! ghc-supports-threaded-runtime; then
+		cabal_chdeps '-threaded' ' '
+	fi
+	eapply_user
+}
+
+src_configure() {
+	haskell-cabal_src_configure \
+		--flag=-debug-conflict-sets \
+		--flag=-debug-expensive-assertions \
+		--flag=-debug-tracetree \
+		--flag=-lukko \
+		--flag=-monolithic \
+		$(cabal_flag native-dns native-dns) \
+		--flag=network-uri
+}
diff --git a/dev-haskell/cabal/Manifest b/dev-haskell/cabal/Manifest
index 9d98fec14..0112d906b 100644
--- a/dev-haskell/cabal/Manifest
+++ b/dev-haskell/cabal/Manifest
@@ -16,3 +16,4 @@ DIST Cabal-2.2.0.1.tar.gz 4566937 BLAKE2B a957940c06c2427870ba8fa3d2a00da96b9059
 DIST Cabal-2.4.0.1.tar.gz 4801392 BLAKE2B 489096b7297e217866006f02e7ef41fe362d6495f81ebbb3b3149341bf9ff18d93d102fe836259471ed9ec1c6c591f5564f81a623a7e4106b9e8a4388646d73f SHA512 4b2a1187e1ec011052ab77ef4bc700608eaab3e921554dd9d75bfca058c487a5651ab6cfe2734ee6cc9687d504a008b4912db182166f0f2f52d23fc08230e48c
 DIST Cabal-3.0.0.0.tar.gz 10242295 BLAKE2B 223f59a2186bc290447c12187e78071d800cc0623cf5ee83273e927a74d802c83c66f642b5ede0c06c4d1af1071b50f53d79a26e5843dc6f56e35987f285f7dc SHA512 268cd15b58f14e333392d3ca1adb95eee4bda8db3e53804a0336cc004be335cc36576c54be849d71fee5a7c0229a9fe066b388d4ed6a870c55e65974382cec77
 DIST Cabal-v3.0.1.0-rc2.tar.gz 1882317 BLAKE2B 09132542529fc73117dc38d42ceddb1f4021c13f382f3b9394670bc03f615034a20a3d7a2809647f1ac949f93c1f9e70bc47300945407e11a4f2ddf6b6a5ddc5 SHA512 8f78fa4d85b5ba7de920d9b9adf14b7b81a63c4b5c0c3ce2c01d588738bbefedfee43ed6bfc622c2ced77e6edb922e8eb67758297bfc8884dff455c013d73837
+DIST Cabal-v3.2.0.0-rc2.tar.gz 1926256 BLAKE2B 1dfb5397539cdd9ab6294a208c891dc655723f1afeee33e09720d505b0e4f7a03fc7a9bb59c4196cf31f1bf47dbdb6f48ad3e99a77171ee7655fed8e0cfbac78 SHA512 69e97d8189fed4657ebbdd1fd2e6103e6276c99d3d4a3b229b53be96e62fbd731a2071c7235d2bb3feab7942833bbd0987afb14d67281daaaf8f40795f563190
diff --git a/dev-haskell/cabal/cabal-3.2.0.0.ebuild b/dev-haskell/cabal/cabal-3.2.0.0.ebuild
new file mode 100644
index 000000000..a9cc6bd43
--- /dev/null
+++ b/dev-haskell/cabal/cabal-3.2.0.0.ebuild
@@ -0,0 +1,45 @@
+# Copyright 1999-2019 Gentoo Authors
+# Distributed under the terms of the GNU General Public License v2
+
+EAPI=7
+
+# ebuild generated by hackport 0.6.9999
+#hackport: flags: -parsec-struct-diff
+
+CABAL_FEATURES="lib profile" # Drop test-suite: circular depend
+CABAL_FEATURES+=" nocabaldep" # in case installed Cabal is broken
+inherit haskell-cabal
+
+MY_PN="Cabal"
+MY_P="${MY_PN}-v${PV}-rc2"
+
+DESCRIPTION="A framework for packaging Haskell software"
+HOMEPAGE="http://www.haskell.org/cabal/"
+SRC_URI="https://github.com/haskell/cabal/archive/${MY_P}.tar.gz"
+
+LICENSE="BSD"
+SLOT="0/${PV}"
+# keep in sync with ghc-8.10
+#KEYWORDS="~alpha ~amd64 ~ia64 ~ppc ~ppc64 ~sparc ~x86 ~amd64-linux ~x86-linux ~ppc-macos ~x86-macos ~x86-solaris"
+IUSE=""
+
+RESTRICT=test # circular deps: cabal -> quickcheck -> cabal
+
+RDEPEND=">=dev-haskell/fail-4.9:=[profile?] <dev-haskell/fail-4.10:=[profile?]
+	>=dev-haskell/mtl-2.1:=[profile?] <dev-haskell/mtl-2.3:=[profile?]
+	>=dev-haskell/parsec-3.1.13.0:=[profile?] <dev-haskell/parsec-3.2:=[profile?]
+	>=dev-haskell/semigroups-0.18.3:=[profile?] <dev-haskell/semigroups-0.20:=[profile?]
+	>=dev-haskell/text-1.2.3.0:=[profile?] <dev-haskell/text-1.3:=[profile?]
+	>=dev-lang/ghc-7.8.2:=
+"
+DEPEND="${RDEPEND}"
+
+S="${WORKDIR}/cabal-${MY_P}/Cabal"
+PATCHES=("${FILESDIR}"/${PN}-2.0.0.2-no-bootstrap.patch)
+
+CABAL_CORE_LIB_GHC_PV="PM:8.10.1_rc1"
+
+src_configure() {
+	haskell-cabal_src_configure \
+		--flag=-parsec-struct-diff
+}
diff --git a/dev-haskell/exceptions/exceptions-0.10.3.ebuild b/dev-haskell/exceptions/exceptions-0.10.3.ebuild
index 995825bc4..21c90ba72 100644
--- a/dev-haskell/exceptions/exceptions-0.10.3.ebuild
+++ b/dev-haskell/exceptions/exceptions-0.10.3.ebuild
@@ -31,4 +31,4 @@ DEPEND="${RDEPEND}
 		>=dev-haskell/test-framework-quickcheck2-0.3 <dev-haskell/test-framework-quickcheck2-0.4 )
 "
 
-CABAL_CORE_LIB_GHC_PV="PM:8.10.1_alpha1 PM:8.10.1_alpha2"
+CABAL_CORE_LIB_GHC_PV="PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1"
diff --git a/dev-haskell/ghc-exactprint/ghc-exactprint-9999.ebuild b/dev-haskell/ghc-exactprint/ghc-exactprint-9999.ebuild
new file mode 100644
index 000000000..280964698
--- /dev/null
+++ b/dev-haskell/ghc-exactprint/ghc-exactprint-9999.ebuild
@@ -0,0 +1,51 @@
+# Copyright 1999-2019 Gentoo Authors
+# Distributed under the terms of the GNU General Public License v2
+
+EAPI=7
+
+# ebuild generated by hackport 0.6.1
+#hackport: flags: -dev
+
+CABAL_FEATURES="lib profile haddock hoogle hscolour test-suite"
+inherit haskell-cabal git-r3
+
+DESCRIPTION="ExactPrint for GHC"
+HOMEPAGE="http://hackage.haskell.org/package/ghc-exactprint"
+EGIT_REPO_URI="https://github.com/alanz/ghc-exactprint.git"
+EGIT_BRANCH="ghc-8.10"
+
+LICENSE="BSD"
+SLOT="0/${PV}"
+KEYWORDS="~amd64 ~x86"
+IUSE="roundtrip"
+
+RESTRICT=test # slow
+
+RDEPEND=">=dev-lang/ghc-7.4.1:=
+	>=dev-haskell/ghc-paths-0.1:=[profile?]
+	>=dev-haskell/free-4.12:=[profile?]
+	roundtrip? ( dev-haskell/diff:=[profile?]
+			dev-haskell/filemanip:=[profile?]
+			dev-haskell/hunit:=[profile?]
+			>=dev-haskell/text-1.2.2:=[profile?]
+			>=dev-haskell/turtle-1.3.0:=[profile?]
+			>=dev-lang/ghc-7.10.2:=[profile?] )
+"
+DEPEND="${RDEPEND}
+	>=dev-haskell/cabal-1.10
+	test? ( >=dev-haskell/fail-4.9
+		>=dev-haskell/filemanip-0.3
+		>=dev-haskell/hunit-1.2
+		>=dev-haskell/mtl-2.2.1
+		>=dev-haskell/silently-1.2
+		>=dev-haskell/syb-0.5
+		!roundtrip? ( dev-haskell/diff
+				>=dev-haskell/ghc-paths-0.1
+				>=dev-lang/ghc-7.10.2 ) )
+"
+
+src_configure() {
+	haskell-cabal_src_configure \
+		--flag=-dev \
+		$(cabal_flag roundtrip roundtrip)
+}
diff --git a/dev-haskell/ghc-lib-parser/ghc-lib-parser-8.8.2.ebuild b/dev-haskell/ghc-lib-parser/ghc-lib-parser-8.8.2.ebuild
index 03bb7cc93..a8e60e717 100644
--- a/dev-haskell/ghc-lib-parser/ghc-lib-parser-8.8.2.ebuild
+++ b/dev-haskell/ghc-lib-parser/ghc-lib-parser-8.8.2.ebuild
@@ -24,3 +24,11 @@ DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-2.2.0.1
 	dev-haskell/happy
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base >= 4.11 && < 4.14' 'base >= 4.11 && < 4.15' \
+		'ghc-prim > 0.2 && < 0.6' 'ghc-prim > 0.2 && < 0.7'
+}
diff --git a/dev-haskell/ghc-paths/ghc-paths-0.1.0.12.ebuild b/dev-haskell/ghc-paths/ghc-paths-0.1.0.12.ebuild
index 85307f962..5131faf49 100644
--- a/dev-haskell/ghc-paths/ghc-paths-0.1.0.12.ebuild
+++ b/dev-haskell/ghc-paths/ghc-paths-0.1.0.12.ebuild
@@ -21,7 +21,7 @@ IUSE=""
 RDEPEND=">=dev-lang/ghc-7.4.1:=
 "
 DEPEND="${RDEPEND}
-	>=dev-haskell/cabal-1.6 <dev-haskell/cabal-3.1
+	>=dev-haskell/cabal-1.6 <dev-haskell/cabal-3.3
 "
 
 src_prepare() {
diff --git a/dev-haskell/hackage-security/hackage-security-0.6.0.0.ebuild b/dev-haskell/hackage-security/hackage-security-0.6.0.0.ebuild
index 2289dfc14..683499b78 100644
--- a/dev-haskell/hackage-security/hackage-security-0.6.0.0.ebuild
+++ b/dev-haskell/hackage-security/hackage-security-0.6.0.0.ebuild
@@ -25,7 +25,6 @@ RDEPEND=">=dev-haskell/base16-bytestring-0.1.1:=[profile?] <dev-haskell/base16-b
 	>=dev-haskell/base64-bytestring-1.0:=[profile?] <dev-haskell/base64-bytestring-1.1:=[profile?]
 	>=dev-haskell/cryptohash-sha256-0.11:=[profile?] <dev-haskell/cryptohash-sha256-0.12:=[profile?]
 	>=dev-haskell/ed25519-0.0:=[profile?] <dev-haskell/ed25519-0.1:=[profile?]
-	>=dev-haskell/lukko-0.1:=[profile?] <dev-haskell/lukko-0.2:=[profile?]
 	>=dev-haskell/old-locale-1.0:=[profile?] <dev-haskell/old-locale-1.1:=[profile?]
 	>=dev-haskell/parsec-3.1:=[profile?] <dev-haskell/parsec-3.2:=[profile?]
 	>=dev-haskell/tar-0.5:=[profile?] <dev-haskell/tar-0.6:=[profile?]
@@ -51,8 +50,19 @@ DEPEND="${RDEPEND}
 		>=dev-haskell/vector-0.12 <dev-haskell/vector-0.13 )
 "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+		'base              >= 4.5     && < 4.14' 'base              >= 4.5     && < 4.15' \
+		'>= 3.0     && < 3.2' '>= 3.0     && < 3.4'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		--flag=-mtl21 \
-		--flag=use-network-uri
+		--flag=use-network-uri \
+		--flag=base48 \
+		--flag=-old-directory \
+		--flag=-lukko
 }
diff --git a/dev-haskell/haddock-library/haddock-library-1.8.0.ebuild b/dev-haskell/haddock-library/haddock-library-1.8.0.ebuild
index 24e49897e..38ff0c931 100644
--- a/dev-haskell/haddock-library/haddock-library-1.8.0.ebuild
+++ b/dev-haskell/haddock-library/haddock-library-1.8.0.ebuild
@@ -36,5 +36,6 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
+		'base         >= 4.5     && < 4.14' 'base         >= 4.5     && < 4.15' \
 		'QuickCheck   ^>= 2.11  || ^>= 2.13.2' 'QuickCheck   >= 2.11'
 }
diff --git a/dev-haskell/haskeline/haskeline-0.8.0.0.ebuild b/dev-haskell/haskeline/haskeline-0.8.0.0.ebuild
new file mode 100644
index 000000000..9d12c8793
--- /dev/null
+++ b/dev-haskell/haskeline/haskeline-0.8.0.0.ebuild
@@ -0,0 +1,34 @@
+# Copyright 1999-2019 Gentoo Authors
+# Distributed under the terms of the GNU General Public License v2
+
+EAPI=7
+
+# ebuild generated by hackport 0.6.9999
+
+CABAL_FEATURES="lib profile haddock hoogle hscolour"
+inherit haskell-cabal
+
+DESCRIPTION="A command-line interface for user input, written in Haskell"
+HOMEPAGE="https://github.com/judah/haskeline"
+SRC_URI="https://hackage.haskell.org/package/${P}/${P}.tar.gz"
+
+LICENSE="BSD"
+SLOT="0/${PV}"
+# keep in sync with ghc-8.10
+# KEYWORDS="~amd64 ~x86 ~amd64-linux ~x86-linux"
+IUSE="+terminfo"
+
+RDEPEND=">=dev-haskell/stm-2.4:=[profile?] <dev-haskell/stm-2.6:=[profile?]
+	>=dev-lang/ghc-8.0.1:=
+	terminfo? ( >=dev-haskell/terminfo-0.3.1.3:=[profile?] <dev-haskell/terminfo-0.5:=[profile?] )
+"
+DEPEND="${RDEPEND}
+	>=dev-haskell/cabal-1.24.0.0
+"
+
+src_configure() {
+	haskell-cabal_src_configure \
+		$(cabal_flag terminfo terminfo)
+}
+
+CABAL_CORE_LIB_GHC_PV="PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/hlint/hlint-2.2.4.ebuild b/dev-haskell/hlint/hlint-2.2.4.ebuild
index a549dea74..0a7bdf0f8 100644
--- a/dev-haskell/hlint/hlint-2.2.4.ebuild
+++ b/dev-haskell/hlint/hlint-2.2.4.ebuild
@@ -37,7 +37,7 @@ RDEPEND=">=dev-haskell/aeson-1.1.2.0:=[profile?]
 	>=dev-lang/ghc-7.8.2:=
 	gpl? ( >=dev-haskell/hscolour-1.21:=[profile?] )
 	|| ( ~dev-haskell/ghc-lib-parser-8.8.1
-		( >=dev-lang/ghc-8.8.1 <dev-lang/ghc-8.9.0 ) )
+		( >=dev-lang/ghc-8.8.1 <dev-lang/ghc-8.11.0 ) )
 	ghc-lib? ( ~dev-haskell/ghc-lib-parser-8.8.1:=[profile?] )
 "
 DEPEND="${RDEPEND}
diff --git a/dev-haskell/hslogger/hslogger-1.3.1.0.ebuild b/dev-haskell/hslogger/hslogger-1.3.1.0.ebuild
index b0e1f3d73..55cca26fe 100644
--- a/dev-haskell/hslogger/hslogger-1.3.1.0.ebuild
+++ b/dev-haskell/hslogger/hslogger-1.3.1.0.ebuild
@@ -28,6 +28,13 @@ DEPEND="${RDEPEND}
 			( >=dev-haskell/hunit-1.6 <dev-haskell/hunit-1.7 ) ) )
 "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+		'base       >= 4.3 && < 4.14' 'base       >= 4.3 && < 4.15'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		--flag=-buildtests \
diff --git a/dev-haskell/http/http-4000.3.14.ebuild b/dev-haskell/http/http-4000.3.14.ebuild
index 3d0ac0209..bc950e313 100644
--- a/dev-haskell/http/http-4000.3.14.ebuild
+++ b/dev-haskell/http/http-4000.3.14.ebuild
@@ -40,6 +40,14 @@ DEPEND="${RDEPEND}
 
 S="${WORKDIR}/${MY_P}"
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base >= 4.3.0.0 && < 4.14' 'base >= 4.3.0.0 && < 4.15'
+}
+
+
 src_configure() {
 	haskell-cabal_src_configure \
 		$(cabal_flag conduit10 conduit10) \
diff --git a/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.ebuild b/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.ebuild
index cc8c2eec7..41f678397 100644
--- a/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.ebuild
+++ b/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.ebuild
@@ -39,7 +39,8 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
-		'base >= 4.3 && < 4.13' 'base >= 4.3'
+		'base >= 4.3 && < 4.13' 'base >= 4.3' \
+		'ghc-prim < 0.6' 'ghc-prim < 0.7'
 }
 
 src_configure() {
diff --git a/dev-haskell/invariant/invariant-0.5.3.ebuild b/dev-haskell/invariant/invariant-0.5.3.ebuild
index 1066158c1..8bd8cefec 100644
--- a/dev-haskell/invariant/invariant-0.5.3.ebuild
+++ b/dev-haskell/invariant/invariant-0.5.3.ebuild
@@ -35,3 +35,10 @@ DEPEND="${RDEPEND}
 	test? ( >=dev-haskell/hspec-1.8
 		>=dev-haskell/quickcheck-2.11 <dev-haskell/quickcheck-3 )
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'template-haskell     >= 2.4    && < 2.16' 'template-haskell     >= 2.4    && < 2.17'
+}
diff --git a/dev-haskell/lens/lens-4.18.1.ebuild b/dev-haskell/lens/lens-4.18.1.ebuild
index 7fdfbef83..f8efc52a6 100644
--- a/dev-haskell/lens/lens-4.18.1.ebuild
+++ b/dev-haskell/lens/lens-4.18.1.ebuild
@@ -49,7 +49,7 @@ RDEPEND=">=dev-haskell/base-orphans-0.5.2:=[profile?] <dev-haskell/base-orphans-
 	>=dev-lang/ghc-7.8.2:=
 "
 DEPEND="${RDEPEND}
-	>=dev-haskell/cabal-1.18.1.3 <dev-haskell/cabal-3.1
+	>=dev-haskell/cabal-1.18.1.3 <dev-haskell/cabal-3.3
 	>=dev-haskell/cabal-doctest-1 <dev-haskell/cabal-doctest-1.1
 	test? ( >=dev-haskell/hunit-1.2
 		>=dev-haskell/quickcheck-2.4
@@ -63,6 +63,13 @@ DEPEND="${RDEPEND}
 					( >=dev-haskell/doctest-0.13 <dev-haskell/doctest-0.17 ) ) ) )
 "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+		'template-haskell          >= 2.4      && < 2.16' 'template-haskell          >= 2.4      && < 2.17'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		$(cabal_flag benchmark-uniplate benchmark-uniplate) \
diff --git a/dev-haskell/lifted-async/lifted-async-0.10.0.5.ebuild b/dev-haskell/lifted-async/lifted-async-0.10.0.5.ebuild
index 5d59a07b6..0e1c8a2be 100644
--- a/dev-haskell/lifted-async/lifted-async-0.10.0.5.ebuild
+++ b/dev-haskell/lifted-async/lifted-async-0.10.0.5.ebuild
@@ -35,3 +35,10 @@ DEPEND="${RDEPEND}
 		>=dev-haskell/tasty-hunit-0.9 <dev-haskell/tasty-hunit-0.11
 		dev-haskell/tasty-th )
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base >= 4.5 && < 4.14' 'base >= 4.5 && < 4.15'
+}
diff --git a/dev-haskell/mtl/mtl-2.2.2.ebuild b/dev-haskell/mtl/mtl-2.2.2.ebuild
index 0e78b2bad..3372fabe7 100644
--- a/dev-haskell/mtl/mtl-2.2.2.ebuild
+++ b/dev-haskell/mtl/mtl-2.2.2.ebuild
@@ -24,4 +24,4 @@ RDEPEND=">=dev-lang/ghc-7.10.1:=
 "
 DEPEND="${RDEPEND}"
 
-CABAL_CORE_LIB_GHC_PV="PM:8.4.2_rc1 PM:8.4.2 PM:8.4.3 PM:8.4.4 PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.4.2_rc1 PM:8.4.2 PM:8.4.3 PM:8.4.4 PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/parsec/parsec-3.1.14.0.ebuild b/dev-haskell/parsec/parsec-3.1.14.0.ebuild
index 6f83ff3d4..c9503a126 100644
--- a/dev-haskell/parsec/parsec-3.1.14.0.ebuild
+++ b/dev-haskell/parsec/parsec-3.1.14.0.ebuild
@@ -36,4 +36,4 @@ DEPEND="${RDEPEND}
 			( >=dev-haskell/hunit-1.6 <dev-haskell/hunit-1.7 ) ) )
 "
 
-CABAL_CORE_LIB_GHC_PV="PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/pointfree/pointfree-1.1.1.6.ebuild b/dev-haskell/pointfree/pointfree-1.1.1.6.ebuild
index eeca7bc57..8689f2cee 100644
--- a/dev-haskell/pointfree/pointfree-1.1.1.6.ebuild
+++ b/dev-haskell/pointfree/pointfree-1.1.1.6.ebuild
@@ -17,7 +17,7 @@ SLOT="0/${PV}"
 KEYWORDS="~amd64 ~x86"
 IUSE=""
 
-RDEPEND=">=dev-haskell/haskell-src-exts-1.20:=[profile?] <dev-haskell/haskell-src-exts-1.21:=[profile?]
+RDEPEND=">=dev-haskell/haskell-src-exts-1.20:=[profile?] <dev-haskell/haskell-src-exts-1.24:=[profile?]
 	>=dev-lang/ghc-7.8.2:=
 "
 DEPEND="${RDEPEND}
diff --git a/dev-haskell/pointful/pointful-1.1.0.0.ebuild b/dev-haskell/pointful/pointful-1.1.0.0.ebuild
index 01c0fd228..89729620f 100644
--- a/dev-haskell/pointful/pointful-1.1.0.0.ebuild
+++ b/dev-haskell/pointful/pointful-1.1.0.0.ebuild
@@ -30,5 +30,6 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
-		'haskell-src-exts-simple >= 1.18 && < 1.21' 'haskell-src-exts-simple >= 1.18'
+		'haskell-src-exts-simple >= 1.18 && < 1.21' 'haskell-src-exts-simple >= 1.18' \
+		'base                    >= 4.7  && < 4.13 || ^>= 4.13' 'base                    >= 4.7'
 }
diff --git a/dev-haskell/polyparse/polyparse-1.13.ebuild b/dev-haskell/polyparse/polyparse-1.13.ebuild
index 62e7db47b..516ad5958 100644
--- a/dev-haskell/polyparse/polyparse-1.13.ebuild
+++ b/dev-haskell/polyparse/polyparse-1.13.ebuild
@@ -24,3 +24,10 @@ RDEPEND=">=dev-haskell/fail-4.9:=[profile?] <dev-haskell/fail-4.10:=[profile?]
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.8
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+		'base >= 4.3.1.0 && < 4.14' 'base >= 4.3.1.0 && < 4.15'
+}
diff --git a/dev-haskell/regex-base/regex-base-0.94.0.0.ebuild b/dev-haskell/regex-base/regex-base-0.94.0.0.ebuild
index f72457c10..de517ab66 100644
--- a/dev-haskell/regex-base/regex-base-0.94.0.0.ebuild
+++ b/dev-haskell/regex-base/regex-base-0.94.0.0.ebuild
@@ -25,3 +25,10 @@ RDEPEND=">=dev-haskell/fail-4.9:=[profile?] <dev-haskell/fail-4.10:=[profile?]
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.12
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base       >= 4.3 && < 4.14' 'base       >= 4.3 && < 4.15'
+}
diff --git a/dev-haskell/regex-tdfa/regex-tdfa-1.3.1.0.ebuild b/dev-haskell/regex-tdfa/regex-tdfa-1.3.1.0.ebuild
index 8e5c823ca..4796deeec 100644
--- a/dev-haskell/regex-tdfa/regex-tdfa-1.3.1.0.ebuild
+++ b/dev-haskell/regex-tdfa/regex-tdfa-1.3.1.0.ebuild
@@ -32,6 +32,13 @@ DEPEND="${RDEPEND}
 		>=dev-haskell/utf8-string-1.0.1 <dev-haskell/utf8-string-1.1 )
 "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+		'base               >= 4.5 && < 4.14' 'base               >= 4.5 && < 4.15'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		--flag=base4 \
diff --git a/dev-haskell/stm/stm-2.5.0.0.ebuild b/dev-haskell/stm/stm-2.5.0.0.ebuild
index ba3625fc3..34c9623cd 100644
--- a/dev-haskell/stm/stm-2.5.0.0.ebuild
+++ b/dev-haskell/stm/stm-2.5.0.0.ebuild
@@ -25,4 +25,4 @@ DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.10
 "
 
-CABAL_CORE_LIB_GHC_PV="PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/stylish-haskell/Manifest b/dev-haskell/stylish-haskell/Manifest
index d9a81e9cc..0ffcd1a5a 100644
--- a/dev-haskell/stylish-haskell/Manifest
+++ b/dev-haskell/stylish-haskell/Manifest
@@ -1,2 +1,3 @@
+DIST stylish-haskell-0.10.0.0.tar.gz 37843 BLAKE2B 840540ecf444232fde413456924142c52495ba61196d3799789e0bff46b1a6b3a2a7d0d6ad56edf19f4beec0221b83234285f80e28abe51e705c46d27130b160 SHA512 ec9675a49f26fa5b7935ad65e35b78c13cbbd14637a638b947791ebbffb4f119f076f3c55d7de7f3e7658f9f509c3597b9d82a1cb018784a6c3adfb6c3dc413a
 DIST stylish-haskell-0.9.2.2.tar.gz 30938 BLAKE2B 1a7483a2599ffdc00c7d4c590e138c9a7f3f9e6cd4e2e987a0b88866ba5442cb160a858fec661a40cbe67c05c4fb444defc7494d93875cee69f00141cf7774dd SHA512 39ee84033fe62d229782f2ac60513975b68e58f139dc7d4b19cc210d84c534e790cf2f3483df323065888d60fdc8c12398b57fef1bbbf4765bed5e01525a5796
 DIST stylish-haskell-0.9.4.4.tar.gz 33884 BLAKE2B ff00ffcb5b37385960289c257baec859f792ef2f5da0a5ac11b5c1b2822737f063ae6247b2d57884c7f257dd54390021032538f18c7ed94660bbfbf8385ecd21 SHA512 5226d203295e03600f07fe21905a1ea1231bd79b1d7bc5e157c74f79054181df0e5f7d549dd418de0a610d70450ba1f2ae9d9ff804fa21674dacd0c17fb26bc9
diff --git a/dev-haskell/stylish-haskell/stylish-haskell-0.10.0.0.ebuild b/dev-haskell/stylish-haskell/stylish-haskell-0.10.0.0.ebuild
new file mode 100644
index 000000000..ccaf32d44
--- /dev/null
+++ b/dev-haskell/stylish-haskell/stylish-haskell-0.10.0.0.ebuild
@@ -0,0 +1,47 @@
+# Copyright 1999-2020 Gentoo Authors
+# Distributed under the terms of the GNU General Public License v2
+
+EAPI=7
+
+# ebuild generated by hackport 0.6.2
+
+CABAL_FEATURES="lib profile haddock hoogle hscolour test-suite"
+inherit haskell-cabal
+
+DESCRIPTION="Haskell code prettifier"
+HOMEPAGE="https://github.com/jaspervdj/stylish-haskell"
+SRC_URI="https://hackage.haskell.org/package/${P}/${P}.tar.gz"
+
+LICENSE="BSD"
+SLOT="0/${PV}"
+KEYWORDS="~amd64 ~x86"
+IUSE=""
+
+RDEPEND=">=dev-haskell/aeson-0.6:=[profile?] <dev-haskell/aeson-1.5:=[profile?]
+	>=dev-haskell/cabal-2.4:=[profile?] <dev-haskell/cabal-3.1:=[profile?]
+	>=dev-haskell/file-embed-0.0.10:=[profile?] <dev-haskell/file-embed-0.1:=[profile?]
+	>=dev-haskell/haskell-src-exts-1.18:=[profile?] <dev-haskell/haskell-src-exts-1.23:=[profile?]
+	>=dev-haskell/mtl-2.0:=[profile?] <dev-haskell/mtl-2.3:=[profile?]
+	>=dev-haskell/optparse-applicative-0.12:=[profile?] <dev-haskell/optparse-applicative-0.16:=[profile?]
+	>=dev-haskell/semigroups-0.18:=[profile?] <dev-haskell/semigroups-0.20:=[profile?]
+	>=dev-haskell/strict-0.3:=[profile?] <dev-haskell/strict-0.4:=[profile?]
+	>=dev-haskell/syb-0.3:=[profile?] <dev-haskell/syb-0.8:=[profile?]
+	>=dev-haskell/yaml-0.8.11:=[profile?] <dev-haskell/yaml-0.12:=[profile?]
+	>=dev-haskell/hsyaml-0.2.0:=[profile?]  <dev-haskell/hsyaml-0.3:=[profile?]
+	>=dev-haskell/hsyaml-aeson-0.2.0:=[profile?]  <dev-haskell/hsyaml-aeson-0.3:=[profile?]
+	>=dev-lang/ghc-8.0.1:=
+"
+DEPEND="${RDEPEND}
+	>=dev-haskell/cabal-1.24.0.0
+	test? ( >=dev-haskell/hunit-1.2 <dev-haskell/hunit-1.7
+		>=dev-haskell/random-1.1
+		>=dev-haskell/test-framework-0.4 <dev-haskell/test-framework-0.9
+		>=dev-haskell/test-framework-hunit-0.2 <dev-haskell/test-framework-hunit-0.4 )
+"
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'Cabal            >= 2.4    && < 3.1' 'Cabal            >= 2.4    && < 3.3'
+}
diff --git a/dev-haskell/tar/tar-0.5.1.1.ebuild b/dev-haskell/tar/tar-0.5.1.1.ebuild
index 1fb71d95f..8cb106326 100644
--- a/dev-haskell/tar/tar-0.5.1.1.ebuild
+++ b/dev-haskell/tar/tar-0.5.1.1.ebuild
@@ -34,6 +34,7 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
+		'base       >= 4 && < 4.14' 'base       >= 4 && < 4.15' \
 		'tasty            >= 0.10 && <0.12' 'tasty            >= 0.10' \
 		'tasty-quickcheck == 0.8.*' 'tasty-quickcheck >= 0.8'
 }
diff --git a/dev-haskell/terminfo/terminfo-0.4.1.4.ebuild b/dev-haskell/terminfo/terminfo-0.4.1.4.ebuild
index ed3178bf6..60d3ea947 100644
--- a/dev-haskell/terminfo/terminfo-0.4.1.4.ebuild
+++ b/dev-haskell/terminfo/terminfo-0.4.1.4.ebuild
@@ -24,4 +24,4 @@ DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.24.0.0
 "
 
-CABAL_CORE_LIB_GHC_PV="PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/text/text-1.2.3.1.ebuild b/dev-haskell/text/text-1.2.3.1.ebuild
index 0e347ba65..555d232b0 100644
--- a/dev-haskell/text/text-1.2.3.1.ebuild
+++ b/dev-haskell/text/text-1.2.3.1.ebuild
@@ -29,7 +29,7 @@ RDEPEND=">=dev-lang/ghc-7.8.2:="
 DEPEND="${RDEPEND}
 "
 
-CABAL_CORE_LIB_GHC_PV="PM:8.4.4 PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.4.4 PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1 PM:9999"
 
 src_configure() {
 	haskell-cabal_src_configure \
diff --git a/dev-haskell/time-compat/time-compat-1.9.2.2.ebuild b/dev-haskell/time-compat/time-compat-1.9.2.2.ebuild
index b3904fd24..18719d60a 100644
--- a/dev-haskell/time-compat/time-compat-1.9.2.2.ebuild
+++ b/dev-haskell/time-compat/time-compat-1.9.2.2.ebuild
@@ -41,5 +41,6 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
-		'time          >=1.2     && <1.3 || >=1.4 && <1.7 || >=1.8 && <1.9 || >=1.9.2 && <1.9.3' 'time          >=1.2     && <1.3 || >=1.4 && <1.7 || >=1.8 && <1.9 || >=1.9.2 && <1.9.4'
+		'time          >=1.2     && <1.3 || >=1.4 && <1.7 || >=1.8 && <1.9 || >=1.9.2 && <1.9.3' 'time          >=1.2     && <1.3 || >=1.4 && <1.7 || >=1.8 && <1.9 || >=1.9.2 && <1.9.4' \
+		'base          >=4.3     && <4.14' 'base          >=4.3     && <4.15'
 }
diff --git a/dev-haskell/transformers/transformers-0.5.6.2.ebuild b/dev-haskell/transformers/transformers-0.5.6.2.ebuild
index 04b0c4cfd..ff8b77d3b 100644
--- a/dev-haskell/transformers/transformers-0.5.6.2.ebuild
+++ b/dev-haskell/transformers/transformers-0.5.6.2.ebuild
@@ -24,4 +24,4 @@ RDEPEND=">=dev-lang/ghc-7.4.1:=
 "
 DEPEND="${RDEPEND}
 "
-CABAL_CORE_LIB_GHC_PV="PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_alpha1 PM:8.10.1_alpha2 PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/type-equality/type-equality-1.ebuild b/dev-haskell/type-equality/type-equality-1.ebuild
index 03215bcb5..1c276fbc2 100644
--- a/dev-haskell/type-equality/type-equality-1.ebuild
+++ b/dev-haskell/type-equality/type-equality-1.ebuild
@@ -22,3 +22,10 @@ RDEPEND=">=dev-lang/ghc-7.4.1:=
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.10
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base >=4.3 && <4.14' 'base >=4.3 && <4.15'
+}
diff --git a/dev-haskell/xhtml/xhtml-3000.2.2.1.ebuild b/dev-haskell/xhtml/xhtml-3000.2.2.1.ebuild
index 9f617c4cd..ed2114145 100644
--- a/dev-haskell/xhtml/xhtml-3000.2.2.1.ebuild
+++ b/dev-haskell/xhtml/xhtml-3000.2.2.1.ebuild
@@ -21,4 +21,4 @@ RDEPEND=">=dev-lang/ghc-6.10.4:="
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.6"
 
-CABAL_CORE_LIB_GHC_PV="PM:8.4.2_rc1 PM:8.4.2 PM:8.4.3 PM:8.4.4 PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:9999"
+CABAL_CORE_LIB_GHC_PV="PM:8.4.2_rc1 PM:8.4.2 PM:8.4.3 PM:8.4.4 PM:8.6.1 PM:8.6.2 PM:8.6.3 PM:8.6.4 PM:8.6.5 PM:8.8.1 PM:8.8.2 PM:8.8.3 PM:8.10.1_rc1 PM:9999"
diff --git a/dev-haskell/zlib/zlib-0.6.2.1.ebuild b/dev-haskell/zlib/zlib-0.6.2.1.ebuild
index 71f2a8a62..7e6a8c95d 100644
--- a/dev-haskell/zlib/zlib-0.6.2.1.ebuild
+++ b/dev-haskell/zlib/zlib-0.6.2.1.ebuild
@@ -30,6 +30,13 @@ DEPEND="${RDEPEND}
 		>=dev-haskell/tasty-quickcheck-0.8 <dev-haskell/tasty-quickcheck-0.11 )
 "
 
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'base >= 4 && < 4.14' 'base >= 4 && < 4.15'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		$(cabal_flag non-blocking-ffi non-blocking-ffi) \
diff --git a/dev-lang/ghc/ghc-8.10.1_rc1.ebuild b/dev-lang/ghc/ghc-8.10.1_rc1.ebuild
index 74ced6f8c..393ac32e5 100644
--- a/dev-lang/ghc/ghc-8.10.1_rc1.ebuild
+++ b/dev-lang/ghc/ghc-8.10.1_rc1.ebuild
@@ -475,7 +475,6 @@ src_prepare() {
 		eapply "${FILESDIR}"/${PN}-8.2.1-darwin.patch
 		eapply "${FILESDIR}"/${PN}-7.8.3-prim-lm.patch
 		eapply "${FILESDIR}"/${PN}-8.8.1-revert-CPP.patch
-		eapply "${FILESDIR}"/${PN}-8.10.1-no-relax-everywhere.patch
 		eapply "${FILESDIR}"/${PN}-8.10.1-allow-cross-bootstrap.patch
 
 		# a bunch of crosscompiler patches
diff --git a/dev-lang/idris/idris-1.3.2.ebuild b/dev-lang/idris/idris-1.3.2.ebuild
index 82f116628..155cdb54f 100644
--- a/dev-lang/idris/idris-1.3.2.ebuild
+++ b/dev-lang/idris/idris-1.3.2.ebuild
@@ -56,7 +56,7 @@ RDEPEND=">=dev-haskell/aeson-0.6:=[profile?] <dev-haskell/aeson-1.5:=[profile?]
 		dev-libs/gmp:0= )
 "
 DEPEND="${RDEPEND}
-	>=dev-haskell/cabal-2.0.0.2 <dev-haskell/cabal-2.5
+	>=dev-haskell/cabal-2.0.0.2 <dev-haskell/cabal-3.1
 	test? ( dev-haskell/tagged
 		>=dev-haskell/tasty-0.8
 		>=dev-haskell/tasty-golden-2.0
@@ -67,7 +67,8 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
-		'ansi-terminal < 0.9' 'ansi-terminal'
+		'ansi-terminal < 0.9' 'ansi-terminal' \
+		'time >= 1.4 && < 1.9' 'time >= 1.4 && < 1.10'
 
 	# runs dist/build/idris directly and breaks sandboxing
 	export LD_LIBRARY_PATH="${S}/dist/build${LD_LIBRARY_PATH+:}${LD_LIBRARY_PATH}"
