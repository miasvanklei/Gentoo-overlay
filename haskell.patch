diff --git a/dev-haskell/cpphs/cpphs-1.20.9.1.ebuild b/dev-haskell/cpphs/cpphs-1.20.9.1.ebuild
index 3a05d030dc..7b42a3efa4 100644
--- a/dev-haskell/cpphs/cpphs-1.20.9.1.ebuild
+++ b/dev-haskell/cpphs/cpphs-1.20.9.1.ebuild
@@ -24,3 +24,10 @@ RDEPEND=">=dev-haskell/old-locale-1.0.0.2:=[profile?] <dev-haskell/old-locale-1.
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-1.8
 "
+
+src_prepare() {
+	default
+
+        cabal_chdeps \
+                'time >=1.5 && <1.11' 'time >=1.5 && <1.12'
+}
diff --git a/dev-haskell/ed25519/ed25519-0.0.5.0.ebuild b/dev-haskell/ed25519/ed25519-0.0.5.0.ebuild
index 67ab4bd32f..e91b160a4e 100644
--- a/dev-haskell/ed25519/ed25519-0.0.5.0.ebuild
+++ b/dev-haskell/ed25519/ed25519-0.0.5.0.ebuild
@@ -30,6 +30,7 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
+		'bytestring  >= 0.9 && < 0.11' 'bytestring  >= 0.9 && < 0.12' \
 		'ghc-prim    >= 0.1 && < 0.5' 'ghc-prim    >= 0.1' \
 		'doctest   >= 0.10 && < 0.11' 'doctest   >= 0.10' \
 		'QuickCheck  >= 2.4 && < 2.9' 'QuickCheck  >= 2.4' \
diff --git a/dev-haskell/ghc-paths/ghc-paths-0.1.0.12-r2.ebuild b/dev-haskell/ghc-paths/ghc-paths-0.1.0.12-r2.ebuild
index 9bc53ff1d2..1ea8d1f975 100644
--- a/dev-haskell/ghc-paths/ghc-paths-0.1.0.12-r2.ebuild
+++ b/dev-haskell/ghc-paths/ghc-paths-0.1.0.12-r2.ebuild
@@ -21,7 +21,7 @@ IUSE=""
 RDEPEND=">=dev-lang/ghc-7.4.1:=
 "
 DEPEND="${RDEPEND}
-	>=dev-haskell/cabal-1.6 <dev-haskell/cabal-3.5
+	>=dev-haskell/cabal-1.6 <dev-haskell/cabal-3.7
 "
 
 src_prepare() {
@@ -31,7 +31,7 @@ src_prepare() {
 	cabal-mksetup
 
 	cabal_chdeps \
-		'Cabal >= 1.6 && <3.1' 'Cabal >= 1.6 && <3.5'
+		'Cabal >= 1.6 && <3.1' 'Cabal >= 1.6 && <3.7'
 
 	# and use gentoo's hardcoded one:
 	# a few things we need to replace, and example values
diff --git a/dev-haskell/haskell-language-server/haskell-language-server-1.7.0.0.ebuild b/dev-haskell/haskell-language-server/haskell-language-server-1.7.0.0.ebuild
index c6621808bb..bb8cad4fc1 100644
--- a/dev-haskell/haskell-language-server/haskell-language-server-1.7.0.0.ebuild
+++ b/dev-haskell/haskell-language-server/haskell-language-server-1.7.0.0.ebuild
@@ -137,7 +137,7 @@ src_configure() {
 		--flag=-all-formatters \
 		--flag=-all-plugins \
 		--flag=-pedantic \
-		--flag=-ignore-plugins-ghc-bounds \
+		--flag=ignore-plugins-ghc-bounds \
 		--flag=dynamic
 
 }
diff --git a/dev-haskell/hiedb/hiedb-0.4.1.0.ebuild b/dev-haskell/hiedb/hiedb-0.4.1.0.ebuild
index b553495ad1..2281fd9534 100644
--- a/dev-haskell/hiedb/hiedb-0.4.1.0.ebuild
+++ b/dev-haskell/hiedb/hiedb-0.4.1.0.ebuild
@@ -41,6 +41,13 @@ DEPEND="${RDEPEND}
 		dev-haskell/temporary )
 "
 
+src_prepare() {
+	default
+
+	cabal_chdeps \
+                'base >= 4.12 && < 4.16' 'base >= 4.12 && < 4.17'
+}
+
 src_configure() {
 	if use executable || use test; then
 		local myExeFlag=executable
diff --git a/dev-haskell/hls-hlint-plugin/hls-hlint-plugin-1.0.4.0.ebuild b/dev-haskell/hls-hlint-plugin/hls-hlint-plugin-1.0.4.0.ebuild
index 86280278a0..b61979688b 100644
--- a/dev-haskell/hls-hlint-plugin/hls-hlint-plugin-1.0.4.0.ebuild
+++ b/dev-haskell/hls-hlint-plugin/hls-hlint-plugin-1.0.4.0.ebuild
@@ -27,11 +27,9 @@ RDEPEND="
 	>=dev-haskell/diff-0.4.0:=[profile?] <dev-haskell/diff-0.5:=[profile?]
 	dev-haskell/extra:=[profile?]
 	>=dev-haskell/ghc-exactprint-0.6.3.4:=[profile?]
-	>=dev-haskell/ghc-lib-9.0:=[profile?] <dev-haskell/ghc-lib-9.1:=[profile?]
-	>=dev-haskell/ghc-lib-parser-ex-9.0:=[profile?] <dev-haskell/ghc-lib-parser-ex-9.1:=[profile?]
 	>=dev-haskell/ghcide-1.7:=[profile?] <dev-haskell/ghcide-1.8:=[profile?]
 	dev-haskell/hashable:=[profile?]
-	>=dev-haskell/hlint-3.3:=[profile?] <dev-haskell/hlint-3.4:=[profile?]
+	>=dev-haskell/hlint-3.4:=[profile?] <dev-haskell/hlint-3.5:=[profile?]
 	>=dev-haskell/hls-plugin-api-1.4:=[profile?] <dev-haskell/hls-plugin-api-1.5:=[profile?]
 	dev-haskell/hslogger:=[profile?]
 	dev-haskell/lens:=[profile?]
@@ -59,6 +57,6 @@ pkg_pretend() {
 src_configure() {
 	haskell-cabal_src_configure \
 		--flag=-ghc-lib \
-		--flag=hlint33 \
+		--flag=hlint34 \
 		--flag=-pedantic
 }
diff --git a/dev-haskell/hslogger/hslogger-1.3.1.0-r2.ebuild b/dev-haskell/hslogger/hslogger-1.3.1.0-r2.ebuild
index e76978c88a..434d1267cf 100644
--- a/dev-haskell/hslogger/hslogger-1.3.1.0-r2.ebuild
+++ b/dev-haskell/hslogger/hslogger-1.3.1.0-r2.ebuild
@@ -31,6 +31,8 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
+		'bytestring >= 0.9 && < 0.11' 'bytestring >= 0.9 && < 0.12' \
+		'time       >= 1.2 && < 1.10' 'time       >= 1.2 && < 1.12' \
 		'base       >= 4.3 && < 4.14' 'base       >= 4.3'
 }
 
diff --git a/dev-haskell/implicit-hie-cradle/implicit-hie-cradle-0.5.0.0.ebuild b/dev-haskell/implicit-hie-cradle/implicit-hie-cradle-0.5.0.0.ebuild
index 24d9e3faa6..bb21fba885 100644
--- a/dev-haskell/implicit-hie-cradle/implicit-hie-cradle-0.5.0.0.ebuild
+++ b/dev-haskell/implicit-hie-cradle/implicit-hie-cradle-0.5.0.0.ebuild
@@ -30,3 +30,11 @@ RDEPEND="dev-haskell/base16-bytestring:=[profile?]
 DEPEND="${RDEPEND}
 	>=dev-haskell/cabal-2.2.0.1
 "
+
+src_prepare() {
+        default
+
+        cabal_chdeps \
+                'bytestring            >=0.10.8  && <0.11' 'bytestring            >=0.10.8  && <0.12' \
+		'time                  >=1.8.0   && <1.10' 'time                  >=1.8.0   && <1.12'
+}
diff --git a/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.1.ebuild b/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.1.ebuild
index 6e2a144f09..26e2d36e8a 100644
--- a/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.1.ebuild
+++ b/dev-haskell/integer-logarithms/integer-logarithms-1.0.3.1.ebuild
@@ -37,7 +37,9 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
-		'ghc-bignum  >=1.0  && <1.1' 'ghc-bignum  >=1.0'
+		'ghc-bignum  >=1.0  && <1.1' 'ghc-bignum  >=1.0' \
+		'base      >=4.3 && <4.16' 'base      >=4.3 && <4.17' \
+		'ghc-prim  >=0   && <0.8' 'ghc-prim  >=0   && <0.9'
 }
 
 src_configure() {
diff --git a/dev-haskell/polyparse/polyparse-1.13.ebuild b/dev-haskell/polyparse/polyparse-1.13.ebuild
index 56e5391cec..a9cf6b6b9d 100644
--- a/dev-haskell/polyparse/polyparse-1.13.ebuild
+++ b/dev-haskell/polyparse/polyparse-1.13.ebuild
@@ -29,5 +29,6 @@ src_prepare() {
 	default
 
 	cabal_chdeps \
-		'base >= 4.3.1.0 && < 4.14' 'base >= 4.3.1.0'
+		'base >= 4.3.1.0 && < 4.14' 'base >= 4.3.1.0' \
+		'bytestring >= 0.9.1.0 && < 0.11' 'bytestring >= 0.9.1.0 && < 0.12'
 }
diff --git a/dev-haskell/tagged/tagged-0.8.6.1.ebuild b/dev-haskell/tagged/tagged-0.8.6.1.ebuild
index 067b0e4861..0efafed8fc 100644
--- a/dev-haskell/tagged/tagged-0.8.6.1.ebuild
+++ b/dev-haskell/tagged/tagged-0.8.6.1.ebuild
@@ -26,6 +26,16 @@ RDEPEND=">=dev-haskell/transformers-compat-0.5:=[profile?] <dev-haskell/transfor
 "
 DEPEND="${RDEPEND}"
 
+src_prepare() {
+        default
+        # ghc-patch it has awfully unportable (across cabal versions) ghc detection code
+        # but in gentoo we install it to fixed patch, so remove Setup.hs detection code
+        cabal-mksetup
+
+        cabal_chdeps \
+		'template-haskell >= 2.8 && < 2.18' 'template-haskell >= 2.8 && < 2.19'
+}
+
 src_configure() {
 	haskell-cabal_src_configure \
 		--flag=deepseq \
diff --git a/eclass/ghc-package.eclass b/eclass/ghc-package.eclass
index 156ee372f3..ee5d208e32 100644
--- a/eclass/ghc-package.eclass
+++ b/eclass/ghc-package.eclass
@@ -58,11 +58,11 @@ ghc-getghcpkg() {
 # because for some reason the global package file
 # must be specified
 ghc-getghcpkgbin() {
-	local empty_db="${T}/empty.conf.d" ghc_pkg="$(ghc-libdir)/bin/ghc-pkg"
+	local empty_db="${T}/empty.conf.d" ghc_pkg="$(ghc-libdir)/../bin/ghc-pkg"
 	if [[ ! -d ${empty_db} ]]; then
 		"${ghc_pkg}" init "${empty_db}" || die "Failed to initialize empty global db"
 	fi
-	echo "$(ghc-libdir)/bin/ghc-pkg" "--global-package-db=${empty_db}"
+	echo "$(ghc-libdir)/../bin/ghc-pkg" "--global-package-db=${empty_db}"
 }
 
 # @FUNCTION: ghc-version
diff --git a/profiles/package.mask b/profiles/package.mask
index ccc17e9444..f821f3752c 100644
--- a/profiles/package.mask
+++ b/profiles/package.mask
@@ -18,7 +18,6 @@ dev-haskell/euterpea
 # Paul Jewell <paul@teulu.org> (2022-07-24)
 # Masking these packages pending ghc version bump to 9.2.3
 >dev-haskell/fourmolu-0.4.0.0
->dev-haskell/cabal-3.4.1.0
 
 # Paul Jewell <paul@teulu.org> (2022-07-23)
 # Reversing original mask in ::gentoo by Sam James <sam@gentoo.org> (2022-07-22)
diff --git a/profiles/package.use.mask b/profiles/package.use.mask
index 94532fe79f..794d126920 100644
--- a/profiles/package.use.mask
+++ b/profiles/package.use.mask
@@ -8,10 +8,6 @@ dev-haskell/zxcvbn-hs tools
 dev-haskell/diagrams cairo gtk
 dev-haskell/diagrams-builder cairo
 
-# hololeap <hololeap@protonmail.com> (23 Jan 2022)
-# stylish-haskell needs update to build with >=ghc-lib-parser-9.0
-dev-haskell/haskell-language-server hls_formatters_stylish-haskell
-
 # hololeap <hololeap@protonmail.com> (23 Jan 2022)
 # The version of brittany compatible with >=ghc-9.0 requires >=aeson-2
 dev-haskell/haskell-language-server hls_formatters_brittany
