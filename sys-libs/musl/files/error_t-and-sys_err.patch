--- a/src/errno/strerror.c	2016-09-16 22:49:11.716132187 +0200
+++ b/src/errno/strerror.c	2016-09-16 22:53:36.190308610 +0200
@@ -3,7 +3,7 @@
 #include "libc.h"
 
 #define E(a,b) ((unsigned char)a),
-static const unsigned char errid[] = {
+static const unsigned char sys_errlist[] = {
 #include "__strerror.h"
 }; 

@@ -24,7 +25,7 @@
 		if (e==109) e=-1;
 		else if (e==EDQUOT) e=109;
 	}
-	for (i=0; errid[i] && errid[i] != e; i++);
+	for (i=0; sys_errlist[i] && sys_errlist[i] != e; i++);
 	for (s=errmsg; i; s++, i--) for (; *s; s++);
 	return (char *)LCTRANS(s, LC_MESSAGES, loc);
 }
@@ -34,4 +35,6 @@
 	return __strerror_l(e, CURRENT_LOCALE);
 }
 
+const int sys_nerr = sizeof(sys_errlist) / sizeof(sys_errlist[0]);
+
 weak_alias(__strerror_l, strerror_l);
--- a/include/errno.h	2016-09-16 22:40:05.039125053 +0200
+++ b/include/errno.h	2016-09-16 22:41:26.336789969 +0200
@@ -9,6 +9,11 @@
 
 #include <bits/errno.h>
 
+#ifndef __error_t_defined
+typedef int error_t;
+#define __error_t_defined 1
+#endif
+
 int *__errno_location(void);
 #define errno (*__errno_location())
 
