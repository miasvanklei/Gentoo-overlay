diff --git a/IGC/AdaptorOCL/SPIRV/libSPIRV/SPIRVInstruction.h b/IGC/AdaptorOCL/SPIRV/libSPIRV/SPIRVInstruction.h
index ca50e231..a2789c4e 100644
--- a/IGC/AdaptorOCL/SPIRV/libSPIRV/SPIRVInstruction.h
+++ b/IGC/AdaptorOCL/SPIRV/libSPIRV/SPIRVInstruction.h
@@ -1118,10 +1118,10 @@ public:
     assert(BB && "Invalid BB");
   }
 
-  SPIRVFunctionCallGeneric(SPIRVModule *BM, SPIRVWord ResId, SPIRVType *TheType,
+  SPIRVFunctionCallGeneric(SPIRVBasicBlock *BB, SPIRVWord ResId, SPIRVType *TheType,
     const std::vector<SPIRVWord> &TheArgs)
     : SPIRVInstruction(TheArgs.size() + FixedWordCount, OC, TheType, ResId,
-      BM),
+      BB),
     Args(TheArgs) {}
   SPIRVFunctionCallGeneric():SPIRVInstruction(OC) {}
   const std::vector<SPIRVWord> &getArguments() {
diff --git a/IGC/common/SysUtils.hpp b/IGC/common/SysUtils.hpp
index b937a98e..92a8f6b6 100644
--- a/IGC/common/SysUtils.hpp
+++ b/IGC/common/SysUtils.hpp
@@ -31,6 +31,7 @@ SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 #if defined _WIN32
 #include <Windows.h>
 #else
+#undef __unused
 #include <sys/stat.h>
 #include <unistd.h>
 #endif
diff --git a/3d/common/iStdLib/File.h b/3d/common/iStdLib/File.h
index 9635c21c..96b9beb0 100644
--- a/3d/common/iStdLib/File.h
+++ b/3d/common/iStdLib/File.h
@@ -32,6 +32,7 @@ SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 #include "MemCopy.h"
 
 #include "Debug.h"
+#undef __unused
 
 #if defined _WIN32
 #   include <direct.h>
