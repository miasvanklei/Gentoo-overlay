--- a/src/librustc_llvm/build.rs	2016-11-10 20:47:29.756492771 +0100
+++ b/src/librustc_llvm/build.rs	2016-11-10 20:29:18.602495001 +0100
@@ -116,6 +116,9 @@
         cfg.flag("-DLLVM_RUSTLLVM");
     }
 
+    // dont compile debug
+    cfg.flag("-DNDEBUG");
+
     cfg.file("../rustllvm/PassWrapper.cpp")
        .file("../rustllvm/RustWrapper.cpp")
        .file("../rustllvm/ArchiveWrapper.cpp")
