diff --git a/src/queue.c b/src/queue.c
index 86018fd..3760d87 100644
--- a/src/queue.c
+++ b/src/queue.c
@@ -1022,6 +1022,7 @@ DISPATCH_NOINLINE
 void
 libdispatch_tsd_init(void)
 {
+	pthread_key_create(&__dispatch_tsd_key, NULL);
 	pthread_setspecific(__dispatch_tsd_key, &__dispatch_tsd);
 	__dispatch_tsd.tid = gettid();
 }
